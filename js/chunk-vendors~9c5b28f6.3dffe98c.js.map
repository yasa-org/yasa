{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/platform/storage/common/storage.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/workspace/common/workspace.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/workspaces/common/workspaces.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/label/common/label.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/severityIcon/common/severityIcon.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/telemetry/common/telemetry.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/theme/common/styler.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/log/common/log.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js"],"names":["WillSaveStateReason","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","IStorageService","InMemoryStorageService","_super","_this","apply","arguments","_onDidChangeStorage","_register","onDidChangeStorage","event","_onWillSaveState","onWillSaveState","globalCache","Map","workspaceCache","getCache","scope","get","key","fallbackValue","value","getBoolean","store","remove","valueStr","String","currentValue","set","fire","Promise","resolve","wasDeleted","delete","_util","getServiceDependencies","ctor","DI_DEPENDENCIES","serviceIds","DI_TARGET","IInstantiationService","createDecorator","storeServiceDependency","id","target","index","optional","push","serviceId","has","length","Error","toString","serviceIdentifier","IWorkspace","IWorkspaceFolder","IWorkspaceContextService","isIWorkspace","thing","isArray","folders","isIWorkspaceFolder","isUri","uri","name","toResource","Workspace","_id","_configuration","_foldersMap","forPaths","defineProperty","_folders","updateFoldersMap","enumerable","configurable","configuration","getFolder","resource","findSubstr","with","scheme","authority","path","_i","_a","folder","toJSON","WorkspaceFolder","data","raw","relativePath","WORKSPACE_EXTENSION","isSingleFolderWorkspaceIdentifier","obj","toWorkspaceIdentifier","workspace","configPath","Extensions","ColorContribution","ColorRegistry","_onDidChangeSchema","onDidChangeSchema","colorSchema","type","properties","colorReferenceSchema","enum","enumDescriptions","colorsById","registerColor","defaults","description","needsTransparency","deprecationMessage","colorContribution","propertySchema","format","defaultSnippets","body","resolveDefaultColor","theme","colorDesc","colorValue","resolveColorValue","getColorSchema","sorter","a","cat1","indexOf","cat2","localeCompare","keys","sort","map","k","join","colorRegistry","add","foreground","dark","light","hc","errorForeground","focusBorder","fromHex","transparent","contrastBorder","activeContrastBorder","textLinkForeground","textCodeBlockBackground","black","widgetShadow","inputBackground","white","inputForeground","inputBorder","inputActiveOptionBorder","inputActiveOptionBackground","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationInfoBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationWarningBorder","inputValidationErrorBackground","inputValidationErrorForeground","inputValidationErrorBorder","selectBackground","selectForeground","pickerGroupForeground","pickerGroupBorder","badgeBackground","badgeForeground","scrollbarShadow","scrollbarSliderBackground","scrollbarSliderHoverBackground","scrollbarSliderActiveBackground","progressBarBackground","editorErrorForeground","editorErrorBorder","editorWarningForeground","editorWarningBorder","editorInfoForeground","editorInfoBorder","editorHintForeground","editorHintBorder","editorBackground","editorForeground","editorWidgetBackground","editorWidgetForeground","editorWidgetBorder","editorWidgetResizeBorder","editorSelectionBackground","editorSelectionForeground","editorInactiveSelection","editorSelectionHighlight","lessProminent","editorSelectionHighlightBorder","editorFindMatch","editorFindMatchHighlight","editorFindRangeHighlight","editorFindMatchBorder","editorFindMatchHighlightBorder","editorFindRangeHighlightBorder","editorHoverHighlight","editorHoverBackground","editorHoverForeground","editorHoverBorder","editorHoverStatusBarBackground","lighten","darken","editorActiveLinkForeground","blue","cyan","editorLightBulbForeground","editorLightBulbAutoFixForeground","defaultInsertColor","defaultRemoveColor","diffInserted","diffRemoved","diffInsertedOutline","diffRemovedOutline","diffBorder","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listInactiveSelectionBackground","listInactiveSelectionForeground","listInactiveFocusBackground","listHoverBackground","listHoverForeground","listDropBackground","listHighlightForeground","listFilterWidgetBackground","listFilterWidgetOutline","listFilterWidgetNoMatchesOutline","treeIndentGuidesStroke","menuBorder","menuForeground","menuBackground","menuSelectionForeground","menuSelectionBackground","menuSelectionBorder","menuSeparatorBackground","snippetTabstopHighlightBackground","snippetTabstopHighlightBorder","snippetFinalTabstopHighlightBackground","snippetFinalTabstopHighlightBorder","overviewRulerFindMatchForeground","overviewRulerSelectionHighlightForeground","minimapFindMatch","minimapSelection","minimapError","minimapWarning","problemsErrorIconForeground","problemsWarningIconForeground","problemsInfoIconForeground","factor","color","oneOf","colorValues","colorValues_1","backgroundColorValue","transparency","from","backgroundColor","isDarkerThan","getLighterColor","getDarkerColor","getColor","workbenchColorsSchemaId","schemaRegistry","as","JSONContribution","registerSchema","delayer","notifySchemaChanged","isScheduled","schedule","MapMap","key1","key2","MarkerStats","service","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","dispose","undefined","resources","resources_1","oldStats","_substract","newStats","_resourceStats","_add","result","inMemory","walkThrough","walkThroughSnippet","read","severity","Warning","Info","op","MarkerService","_onMarkerChanged","_onMarkerChangedEvent","debounce","_debouncer","_byResource","_byOwner","_stats","owner","changeOne","markerData","markers","markerData_1","marker","_toMarker","code","message","source","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","filter","severities","take","data_1","_accept","newLen","_c","_d","_b","last","_dedupeMap","event_1","exports","nextTick","fn","args","slice","call","shift","setTimeout","platform","arch","execPath","title","pid","browser","env","argv","binding","cwd","chdir","dir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","LABEL_SERVICE_ID","ILabelService","newNode","incoming","outgoing","Graph","_hashFn","_nodes","roots","ret","entry","insertEdge","to","fromNode","lookupOrInsertNode","toNode","removeNode","node","isEmpty","_key","__spreadArrays","s","i","il","r","j","jl","_enableTracing","_canUseProxy","Proxy","CyclicDependencyError","graph","InstantiationService","services","strict","parent","_services","_strict","_parent","createChild","invokeFunction","_trace","Trace","traceInvocation","_done","accessor","isOptional","_getOrCreateServiceInstance","stop","createInstance","ctorOrDescriptor","rest","traceCreation","_createInstance","staticArguments","concat","serviceDependencies","serviceArgs","serviceDependencies_1","dependency","firstServiceArgPos","console","warn","delta","bind","_setServiceInstance","instance","_getServiceInstanceOrDescriptor","instanceOrDesc","_createAndCacheServiceInstance","branch","desc","cycleCount","stack","item","pop","roots_1","_createServiceInstanceWithOwner","supportsDelayedInstantiation","_createServiceInstance","_supportsDelayedInstantiation","idle_1","getValue","prop","_target","_start","Date","now","_dep","substring","replace","_None","first","child","dur","_totals","causedCreation","printChild","n","trace","res","prefix","nested","lines","toFixed","log","class_1","SeverityIcon","className","Ignore","collector","errorIconForeground","addRule","warningIconForeground","infoIconForeground","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","next","e","rejected","done","then","__generator","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","TypeError","IOpenerService","NullOpenerService","freeze","_serviceBrand","registerOpener","None","registerValidator","registerExternalUriResolver","setExternalOpener","open","resolveExternalUri","resolved","matchesScheme","ITelemetryService","BaseResolvedKeybinding","os","parts","_os","_parts","getLabel","toLabel","keybinding","_getLabel","getAriaLabel","_getAriaLabel","isChord","getParts","_getPart","ctrlKey","shiftKey","altKey","metaKey","getDispatchParts","_getDispatchPart","USLayoutResolvedKeybinding","actual","_keyCodeToUILabel","keyCode","isDuplicateModifierCase","getDispatchStr","isModifierKey","KeybindingResolver","defaultKeybindings","overrides","_defaultKeybindings","_defaultBoundCommands","len","command","_map","_lookupMap","_keybindings","combine","keypressParts","_addKeyPress","_isTargetedForRemoval","defaultKb","keypressFirstPart","keypressChordPart","when","equals","rawOverrides","rawOverrides_1","override","charAt","substr","splice","keypress","conflicts","_addToLookupMap","conflict","conflictIsChord","itemIsChord","whenIsEntirelyIncluded","_removeFromLookupMap","arr","_implies","q","notP","negate","terminals","expr","notA","getKeybindings","lookupPrimaryKeybinding","commandId","items","context","currentChord","lookupMap","candidates","candidate","_findCommand","enterChord","commandArgs","bubble","matches","contextMatchesRules","rules","evaluate","AbstractKeybindingService","_contextKeyService","_commandService","_telemetryService","_notificationService","_onDidUpdateKeybindings","_currentChord","_currentChordChecker","_currentChordStatusMessage","_getResolver","lookupKeybinding","resolvedKeybinding","softDispatch","resolveKeyboardEvent","firstPart","contextValue","getContext","_enterChordMode","keypressLabel","status","chordEnterTime","cancelAndSet","_documentHasFocus","_leaveChordMode","cancel","_dispatch","_doDispatch","shouldPreventDefault","resolveResult","hideAfter","executeCommand","err","publicLog2","mightProducePrintableCharacter","IKeybindingService","RegistryImpl","Registry","__assign","assign","__decorate","decorators","c","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","IListService","ListService","_themeService","disposables","lists","_lastFocusedWidget","_hasCreatedStyleController","register","widget","extraContextKeys","styleController","some","l","registeredList","getHTMLElement","document","activeElement","onDidFocus","onDidDispose","RawWorkbenchListFocusContextKey","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","and","not","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSupportsKeyboardNavigation","WorkbenchListAutomaticKeyboardNavigationKey","WorkbenchListAutomaticKeyboardNavigation","didBindWorkbenchListAutomaticKeyboardNavigation","createScopedContextKeyService","contextKeyService","createScoped","bindTo","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","keyboardNavigationSettingKey","automaticKeyboardNavigationSettingKey","treeIndentKey","treeRenderIndentGuidesKey","getHorizontalScrollingSetting","configurationService","useAltAsMultipleSelectionModifier","useSingleClickToOpen","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","isSelectionSingleChangeEvent","browserEvent","isSelectionRangeChangeEvent","WorkbenchOpenController","existingOpenController","openOnSingleClick","shouldOpen","MouseEvent","isLeftButton","button","isDoubleClick","detail","toWorkbenchListOptions","options","keybindingService","multipleSelectionSupport","multipleSelectionController","openController","keyboardNavigationDelegate","createKeyboardNavigationEventFilter","container","inChord","WorkbenchObjectTree","user","delegate","renderers","listService","themeService","accessibilityService","workbenchTreeDataPreamble","treeOptions","getAutomaticKeyboardNavigation","disposable","internals","WorkbenchTreeInternals","overrideStyles","WorkbenchDataTree","dataSource","updateOptions","updateStyleOverrides","WorkbenchAsyncDataTree","WorkbenchCompressibleAsyncDataTree","virtualDelegate","compressionDelegate","automaticKeyboardNavigation","getContextKeyValue","accessibilityOn","isScreenReaderOptimized","keyboardNavigation","horizontalScrolling","workbenchListOptions","additionalScrollHeight","keyboardSupport","indent","renderIndentGuides","simpleKeyboardNavigation","filterOnType","keyboardNavigationEventFilter","hideTwistiesOfChildlessElements","tree","listSupportsMultiSelect","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","_useAltAsMultipleSelectionModifier","interestingContextKeys","Set","updateKeyboardNavigation","onDidChangeSelection","selection","getSelection","focus","getFocus","onDidChangeFocus","onDidChangeContext","affectsSome","onDidChangeScreenReaderOptimized","styler","configurationRegistry","Configuration","registerConfiguration","comment","minimum","maximum","default","markdownDescription","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","bindToCurrentPlatform","kb","win","mac","linux","registerKeybindingRule","rule","actualKb","primary","kk","_registerDefaultKeybinding","weight","secondary","registerCommandAndKeybindingRule","registerCommand","_mightProduceChar","_assertNoCtrlAlt","weight1","weight2","getDefaultKeybindings","KeybindingsRegistry","EditorModes","computeStyles","styleMap","styles","attachStyler","widgetOrCallback","applyStyles","getTheme","style","onThemeChange","attachBadgeStyler","badgeBorder","attachQuickOpenStyler","background","borderColor","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listFocusOutline","listSelectionOutline","listHoverOutline","attachListStyler","defaultListStyles","listMatchesShadow","defaultMenuStyles","shadowColor","foregroundColor","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","separatorColor","attachMenuStyler","ILayoutService","SyncDescriptor","INotificationService","NoOpNotification","MarkerSeverity","IMarkerData","compare","_displayStrings","fromSeverity","Hint","toSeverity","emptyString","makeKey","makeKeyOptionalMessage","useMessage","IMarkerService","IEditorProgressService","IThemeService","themeColorFromId","DARK","HIGH_CONTRAST","getThemeTypeSelector","ThemingContribution","ThemingRegistry","themingParticipants","onThemingParticipantAddedEmitter","participant","idx","getThemingParticipants","themingRegistry","registerThemingParticipant","ResolvedKeybindingItem","isDefault","removeElementsAfterNulls","charCodeAt","element","LogLevel","ILogService","NullLogService","getLevel","error","normalizeId","JSONContributionRegistry","schemasById","unresolvedSchemaContent","jsonContributionRegistry","ServiceCollection","entries","_entries","entries_1","instanceOrDescriptor","_registry","registerSingleton","getSingletonServiceDescriptors"],"mappings":"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","file":"js/chunk-vendors~9c5b28f6.3dffe98c.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { isUndefinedOrNull } from '../../../base/common/types.js';\r\nexport var IStorageService = createDecorator('storageService');\r\nexport var WillSaveStateReason;\r\n(function (WillSaveStateReason) {\r\n    WillSaveStateReason[WillSaveStateReason[\"NONE\"] = 0] = \"NONE\";\r\n    WillSaveStateReason[WillSaveStateReason[\"SHUTDOWN\"] = 1] = \"SHUTDOWN\";\r\n})(WillSaveStateReason || (WillSaveStateReason = {}));\r\nvar InMemoryStorageService = /** @class */ (function (_super) {\r\n    __extends(InMemoryStorageService, _super);\r\n    function InMemoryStorageService() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._onDidChangeStorage = _this._register(new Emitter());\r\n        _this.onDidChangeStorage = _this._onDidChangeStorage.event;\r\n        _this._onWillSaveState = _this._register(new Emitter());\r\n        _this.onWillSaveState = _this._onWillSaveState.event;\r\n        _this.globalCache = new Map();\r\n        _this.workspaceCache = new Map();\r\n        return _this;\r\n    }\r\n    InMemoryStorageService.prototype.getCache = function (scope) {\r\n        return scope === 0 /* GLOBAL */ ? this.globalCache : this.workspaceCache;\r\n    };\r\n    InMemoryStorageService.prototype.get = function (key, scope, fallbackValue) {\r\n        var value = this.getCache(scope).get(key);\r\n        if (isUndefinedOrNull(value)) {\r\n            return fallbackValue;\r\n        }\r\n        return value;\r\n    };\r\n    InMemoryStorageService.prototype.getBoolean = function (key, scope, fallbackValue) {\r\n        var value = this.getCache(scope).get(key);\r\n        if (isUndefinedOrNull(value)) {\r\n            return fallbackValue;\r\n        }\r\n        return value === 'true';\r\n    };\r\n    InMemoryStorageService.prototype.store = function (key, value, scope) {\r\n        // We remove the key for undefined/null values\r\n        if (isUndefinedOrNull(value)) {\r\n            return this.remove(key, scope);\r\n        }\r\n        // Otherwise, convert to String and store\r\n        var valueStr = String(value);\r\n        // Return early if value already set\r\n        var currentValue = this.getCache(scope).get(key);\r\n        if (currentValue === valueStr) {\r\n            return Promise.resolve();\r\n        }\r\n        // Update in cache\r\n        this.getCache(scope).set(key, valueStr);\r\n        // Events\r\n        this._onDidChangeStorage.fire({ scope: scope, key: key });\r\n        return Promise.resolve();\r\n    };\r\n    InMemoryStorageService.prototype.remove = function (key, scope) {\r\n        var wasDeleted = this.getCache(scope).delete(key);\r\n        if (!wasDeleted) {\r\n            return Promise.resolve(); // Return early if value already deleted\r\n        }\r\n        // Events\r\n        this._onDidChangeStorage.fire({ scope: scope, key: key });\r\n        return Promise.resolve();\r\n    };\r\n    return InMemoryStorageService;\r\n}(Disposable));\r\nexport { InMemoryStorageService };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n// ------ internal util\r\nexport var _util;\r\n(function (_util) {\r\n    _util.serviceIds = new Map();\r\n    _util.DI_TARGET = '$di$target';\r\n    _util.DI_DEPENDENCIES = '$di$dependencies';\r\n    function getServiceDependencies(ctor) {\r\n        return ctor[_util.DI_DEPENDENCIES] || [];\r\n    }\r\n    _util.getServiceDependencies = getServiceDependencies;\r\n})(_util || (_util = {}));\r\nexport var IInstantiationService = createDecorator('instantiationService');\r\nfunction storeServiceDependency(id, target, index, optional) {\r\n    if (target[_util.DI_TARGET] === target) {\r\n        target[_util.DI_DEPENDENCIES].push({ id: id, index: index, optional: optional });\r\n    }\r\n    else {\r\n        target[_util.DI_DEPENDENCIES] = [{ id: id, index: index, optional: optional }];\r\n        target[_util.DI_TARGET] = target;\r\n    }\r\n}\r\n/**\r\n * A *only* valid way to create a {{ServiceIdentifier}}.\r\n */\r\nexport function createDecorator(serviceId) {\r\n    if (_util.serviceIds.has(serviceId)) {\r\n        return _util.serviceIds.get(serviceId);\r\n    }\r\n    var id = function (target, key, index) {\r\n        if (arguments.length !== 3) {\r\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\r\n        }\r\n        storeServiceDependency(id, target, index, false);\r\n    };\r\n    id.toString = function () { return serviceId; };\r\n    _util.serviceIds.set(serviceId, id);\r\n    return id;\r\n}\r\n/**\r\n * Mark a service dependency as optional.\r\n */\r\nexport function optional(serviceIdentifier) {\r\n    return function (target, key, index) {\r\n        if (arguments.length !== 3) {\r\n            throw new Error('@optional-decorator can only be used to decorate a parameter');\r\n        }\r\n        storeServiceDependency(serviceIdentifier, target, index, true);\r\n    };\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport * as resources from '../../../base/common/resources.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { TernarySearchTree } from '../../../base/common/map.js';\r\nexport var IWorkspaceContextService = createDecorator('contextService');\r\nexport var IWorkspace;\r\n(function (IWorkspace) {\r\n    function isIWorkspace(thing) {\r\n        return thing && typeof thing === 'object'\r\n            && typeof thing.id === 'string'\r\n            && Array.isArray(thing.folders);\r\n    }\r\n    IWorkspace.isIWorkspace = isIWorkspace;\r\n})(IWorkspace || (IWorkspace = {}));\r\nexport var IWorkspaceFolder;\r\n(function (IWorkspaceFolder) {\r\n    function isIWorkspaceFolder(thing) {\r\n        return thing && typeof thing === 'object'\r\n            && URI.isUri(thing.uri)\r\n            && typeof thing.name === 'string'\r\n            && typeof thing.toResource === 'function';\r\n    }\r\n    IWorkspaceFolder.isIWorkspaceFolder = isIWorkspaceFolder;\r\n})(IWorkspaceFolder || (IWorkspaceFolder = {}));\r\nvar Workspace = /** @class */ (function () {\r\n    function Workspace(_id, folders, _configuration) {\r\n        if (folders === void 0) { folders = []; }\r\n        if (_configuration === void 0) { _configuration = null; }\r\n        this._id = _id;\r\n        this._configuration = _configuration;\r\n        this._foldersMap = TernarySearchTree.forPaths();\r\n        this.folders = folders;\r\n    }\r\n    Object.defineProperty(Workspace.prototype, \"folders\", {\r\n        get: function () {\r\n            return this._folders;\r\n        },\r\n        set: function (folders) {\r\n            this._folders = folders;\r\n            this.updateFoldersMap();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"configuration\", {\r\n        get: function () {\r\n            return this._configuration;\r\n        },\r\n        set: function (configuration) {\r\n            this._configuration = configuration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Workspace.prototype.getFolder = function (resource) {\r\n        if (!resource) {\r\n            return null;\r\n        }\r\n        return this._foldersMap.findSubstr(resource.with({\r\n            scheme: resource.scheme,\r\n            authority: resource.authority,\r\n            path: resource.path\r\n        }).toString()) || null;\r\n    };\r\n    Workspace.prototype.updateFoldersMap = function () {\r\n        this._foldersMap = TernarySearchTree.forPaths();\r\n        for (var _i = 0, _a = this.folders; _i < _a.length; _i++) {\r\n            var folder = _a[_i];\r\n            this._foldersMap.set(folder.uri.toString(), folder);\r\n        }\r\n    };\r\n    Workspace.prototype.toJSON = function () {\r\n        return { id: this.id, folders: this.folders, configuration: this.configuration };\r\n    };\r\n    return Workspace;\r\n}());\r\nexport { Workspace };\r\nvar WorkspaceFolder = /** @class */ (function () {\r\n    function WorkspaceFolder(data, raw) {\r\n        this.raw = raw;\r\n        this.uri = data.uri;\r\n        this.index = data.index;\r\n        this.name = data.name;\r\n    }\r\n    WorkspaceFolder.prototype.toResource = function (relativePath) {\r\n        return resources.joinPath(this.uri, relativePath);\r\n    };\r\n    WorkspaceFolder.prototype.toJSON = function () {\r\n        return { uri: this.uri, name: this.name, index: this.index };\r\n    };\r\n    return WorkspaceFolder;\r\n}());\r\nexport { WorkspaceFolder };\r\n","import { URI } from '../../../base/common/uri.js';\r\nexport var WORKSPACE_EXTENSION = 'code-workspace';\r\nexport function isSingleFolderWorkspaceIdentifier(obj) {\r\n    return obj instanceof URI;\r\n}\r\nexport function toWorkspaceIdentifier(workspace) {\r\n    if (workspace.configuration) {\r\n        return {\r\n            configPath: workspace.configuration,\r\n            id: workspace.id\r\n        };\r\n    }\r\n    if (workspace.folders.length === 1) {\r\n        return workspace.folders[0].uri;\r\n    }\r\n    // Empty workspace\r\n    return undefined;\r\n}\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as platform from '../../registry/common/platform.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\n// color registry\r\nexport var Extensions = {\r\n    ColorContribution: 'base.contributions.colors'\r\n};\r\nvar ColorRegistry = /** @class */ (function () {\r\n    function ColorRegistry() {\r\n        this._onDidChangeSchema = new Emitter();\r\n        this.onDidChangeSchema = this._onDidChangeSchema.event;\r\n        this.colorSchema = { type: 'object', properties: {} };\r\n        this.colorReferenceSchema = { type: 'string', enum: [], enumDescriptions: [] };\r\n        this.colorsById = {};\r\n    }\r\n    ColorRegistry.prototype.registerColor = function (id, defaults, description, needsTransparency, deprecationMessage) {\r\n        if (needsTransparency === void 0) { needsTransparency = false; }\r\n        var colorContribution = { id: id, description: description, defaults: defaults, needsTransparency: needsTransparency, deprecationMessage: deprecationMessage };\r\n        this.colorsById[id] = colorContribution;\r\n        var propertySchema = { type: 'string', description: description, format: 'color-hex', defaultSnippets: [{ body: '${1:#ff0000}' }] };\r\n        if (deprecationMessage) {\r\n            propertySchema.deprecationMessage = deprecationMessage;\r\n        }\r\n        this.colorSchema.properties[id] = propertySchema;\r\n        this.colorReferenceSchema.enum.push(id);\r\n        this.colorReferenceSchema.enumDescriptions.push(description);\r\n        this._onDidChangeSchema.fire();\r\n        return id;\r\n    };\r\n    ColorRegistry.prototype.resolveDefaultColor = function (id, theme) {\r\n        var colorDesc = this.colorsById[id];\r\n        if (colorDesc && colorDesc.defaults) {\r\n            var colorValue = colorDesc.defaults[theme.type];\r\n            return resolveColorValue(colorValue, theme);\r\n        }\r\n        return undefined;\r\n    };\r\n    ColorRegistry.prototype.getColorSchema = function () {\r\n        return this.colorSchema;\r\n    };\r\n    ColorRegistry.prototype.toString = function () {\r\n        var _this = this;\r\n        var sorter = function (a, b) {\r\n            var cat1 = a.indexOf('.') === -1 ? 0 : 1;\r\n            var cat2 = b.indexOf('.') === -1 ? 0 : 1;\r\n            if (cat1 !== cat2) {\r\n                return cat1 - cat2;\r\n            }\r\n            return a.localeCompare(b);\r\n        };\r\n        return Object.keys(this.colorsById).sort(sorter).map(function (k) { return \"- `\" + k + \"`: \" + _this.colorsById[k].description; }).join('\\n');\r\n    };\r\n    return ColorRegistry;\r\n}());\r\nvar colorRegistry = new ColorRegistry();\r\nplatform.Registry.add(Extensions.ColorContribution, colorRegistry);\r\nexport function registerColor(id, defaults, description, needsTransparency, deprecationMessage) {\r\n    return colorRegistry.registerColor(id, defaults, description, needsTransparency, deprecationMessage);\r\n}\r\n// ----- base colors\r\nexport var foreground = registerColor('foreground', { dark: '#CCCCCC', light: '#616161', hc: '#FFFFFF' }, nls.localize('foreground', \"Overall foreground color. This color is only used if not overridden by a component.\"));\r\nexport var errorForeground = registerColor('errorForeground', { dark: '#F48771', light: '#A1260D', hc: '#F48771' }, nls.localize('errorForeground', \"Overall foreground color for error messages. This color is only used if not overridden by a component.\"));\r\nexport var focusBorder = registerColor('focusBorder', { dark: Color.fromHex('#0E639C').transparent(0.8), light: Color.fromHex('#007ACC').transparent(0.4), hc: '#F38518' }, nls.localize('focusBorder', \"Overall border color for focused elements. This color is only used if not overridden by a component.\"));\r\nexport var contrastBorder = registerColor('contrastBorder', { light: null, dark: null, hc: '#6FC3DF' }, nls.localize('contrastBorder', \"An extra border around elements to separate them from others for greater contrast.\"));\r\nexport var activeContrastBorder = registerColor('contrastActiveBorder', { light: null, dark: null, hc: focusBorder }, nls.localize('activeContrastBorder', \"An extra border around active elements to separate them from others for greater contrast.\"));\r\nexport var textLinkForeground = registerColor('textLink.foreground', { light: '#006AB1', dark: '#3794FF', hc: '#3794FF' }, nls.localize('textLinkForeground', \"Foreground color for links in text.\"));\r\nexport var textCodeBlockBackground = registerColor('textCodeBlock.background', { light: '#dcdcdc66', dark: '#0a0a0a66', hc: Color.black }, nls.localize('textCodeBlockBackground', \"Background color for code blocks in text.\"));\r\n// ----- widgets\r\nexport var widgetShadow = registerColor('widget.shadow', { dark: '#000000', light: '#A8A8A8', hc: null }, nls.localize('widgetShadow', 'Shadow color of widgets such as find/replace inside the editor.'));\r\nexport var inputBackground = registerColor('input.background', { dark: '#3C3C3C', light: Color.white, hc: Color.black }, nls.localize('inputBoxBackground', \"Input box background.\"));\r\nexport var inputForeground = registerColor('input.foreground', { dark: foreground, light: foreground, hc: foreground }, nls.localize('inputBoxForeground', \"Input box foreground.\"));\r\nexport var inputBorder = registerColor('input.border', { dark: null, light: null, hc: contrastBorder }, nls.localize('inputBoxBorder', \"Input box border.\"));\r\nexport var inputActiveOptionBorder = registerColor('inputOption.activeBorder', { dark: '#007ACC00', light: '#007ACC00', hc: contrastBorder }, nls.localize('inputBoxActiveOptionBorder', \"Border color of activated options in input fields.\"));\r\nexport var inputActiveOptionBackground = registerColor('inputOption.activeBackground', { dark: transparent(focusBorder, 0.5), light: transparent(focusBorder, 0.3), hc: null }, nls.localize('inputOption.activeBackground', \"Background color of activated options in input fields.\"));\r\nexport var inputValidationInfoBackground = registerColor('inputValidation.infoBackground', { dark: '#063B49', light: '#D6ECF2', hc: Color.black }, nls.localize('inputValidationInfoBackground', \"Input validation background color for information severity.\"));\r\nexport var inputValidationInfoForeground = registerColor('inputValidation.infoForeground', { dark: null, light: null, hc: null }, nls.localize('inputValidationInfoForeground', \"Input validation foreground color for information severity.\"));\r\nexport var inputValidationInfoBorder = registerColor('inputValidation.infoBorder', { dark: '#007acc', light: '#007acc', hc: contrastBorder }, nls.localize('inputValidationInfoBorder', \"Input validation border color for information severity.\"));\r\nexport var inputValidationWarningBackground = registerColor('inputValidation.warningBackground', { dark: '#352A05', light: '#F6F5D2', hc: Color.black }, nls.localize('inputValidationWarningBackground', \"Input validation background color for warning severity.\"));\r\nexport var inputValidationWarningForeground = registerColor('inputValidation.warningForeground', { dark: null, light: null, hc: null }, nls.localize('inputValidationWarningForeground', \"Input validation foreground color for warning severity.\"));\r\nexport var inputValidationWarningBorder = registerColor('inputValidation.warningBorder', { dark: '#B89500', light: '#B89500', hc: contrastBorder }, nls.localize('inputValidationWarningBorder', \"Input validation border color for warning severity.\"));\r\nexport var inputValidationErrorBackground = registerColor('inputValidation.errorBackground', { dark: '#5A1D1D', light: '#F2DEDE', hc: Color.black }, nls.localize('inputValidationErrorBackground', \"Input validation background color for error severity.\"));\r\nexport var inputValidationErrorForeground = registerColor('inputValidation.errorForeground', { dark: null, light: null, hc: null }, nls.localize('inputValidationErrorForeground', \"Input validation foreground color for error severity.\"));\r\nexport var inputValidationErrorBorder = registerColor('inputValidation.errorBorder', { dark: '#BE1100', light: '#BE1100', hc: contrastBorder }, nls.localize('inputValidationErrorBorder', \"Input validation border color for error severity.\"));\r\nexport var selectBackground = registerColor('dropdown.background', { dark: '#3C3C3C', light: Color.white, hc: Color.black }, nls.localize('dropdownBackground', \"Dropdown background.\"));\r\nexport var selectForeground = registerColor('dropdown.foreground', { dark: '#F0F0F0', light: null, hc: Color.white }, nls.localize('dropdownForeground', \"Dropdown foreground.\"));\r\nexport var pickerGroupForeground = registerColor('pickerGroup.foreground', { dark: '#3794FF', light: '#0066BF', hc: Color.white }, nls.localize('pickerGroupForeground', \"Quick picker color for grouping labels.\"));\r\nexport var pickerGroupBorder = registerColor('pickerGroup.border', { dark: '#3F3F46', light: '#CCCEDB', hc: Color.white }, nls.localize('pickerGroupBorder', \"Quick picker color for grouping borders.\"));\r\nexport var badgeBackground = registerColor('badge.background', { dark: '#4D4D4D', light: '#C4C4C4', hc: Color.black }, nls.localize('badgeBackground', \"Badge background color. Badges are small information labels, e.g. for search results count.\"));\r\nexport var badgeForeground = registerColor('badge.foreground', { dark: Color.white, light: '#333', hc: Color.white }, nls.localize('badgeForeground', \"Badge foreground color. Badges are small information labels, e.g. for search results count.\"));\r\nexport var scrollbarShadow = registerColor('scrollbar.shadow', { dark: '#000000', light: '#DDDDDD', hc: null }, nls.localize('scrollbarShadow', \"Scrollbar shadow to indicate that the view is scrolled.\"));\r\nexport var scrollbarSliderBackground = registerColor('scrollbarSlider.background', { dark: Color.fromHex('#797979').transparent(0.4), light: Color.fromHex('#646464').transparent(0.4), hc: transparent(contrastBorder, 0.6) }, nls.localize('scrollbarSliderBackground', \"Scrollbar slider background color.\"));\r\nexport var scrollbarSliderHoverBackground = registerColor('scrollbarSlider.hoverBackground', { dark: Color.fromHex('#646464').transparent(0.7), light: Color.fromHex('#646464').transparent(0.7), hc: transparent(contrastBorder, 0.8) }, nls.localize('scrollbarSliderHoverBackground', \"Scrollbar slider background color when hovering.\"));\r\nexport var scrollbarSliderActiveBackground = registerColor('scrollbarSlider.activeBackground', { dark: Color.fromHex('#BFBFBF').transparent(0.4), light: Color.fromHex('#000000').transparent(0.6), hc: contrastBorder }, nls.localize('scrollbarSliderActiveBackground', \"Scrollbar slider background color when clicked on.\"));\r\nexport var progressBarBackground = registerColor('progressBar.background', { dark: Color.fromHex('#0E70C0'), light: Color.fromHex('#0E70C0'), hc: contrastBorder }, nls.localize('progressBarBackground', \"Background color of the progress bar that can show for long running operations.\"));\r\nexport var editorErrorForeground = registerColor('editorError.foreground', { dark: '#F48771', light: '#E51400', hc: null }, nls.localize('editorError.foreground', 'Foreground color of error squigglies in the editor.'));\r\nexport var editorErrorBorder = registerColor('editorError.border', { dark: null, light: null, hc: Color.fromHex('#E47777').transparent(0.8) }, nls.localize('errorBorder', 'Border color of error boxes in the editor.'));\r\nexport var editorWarningForeground = registerColor('editorWarning.foreground', { dark: '#CCA700', light: '#E9A700', hc: null }, nls.localize('editorWarning.foreground', 'Foreground color of warning squigglies in the editor.'));\r\nexport var editorWarningBorder = registerColor('editorWarning.border', { dark: null, light: null, hc: Color.fromHex('#FFCC00').transparent(0.8) }, nls.localize('warningBorder', 'Border color of warning boxes in the editor.'));\r\nexport var editorInfoForeground = registerColor('editorInfo.foreground', { dark: '#75BEFF', light: '#75BEFF', hc: null }, nls.localize('editorInfo.foreground', 'Foreground color of info squigglies in the editor.'));\r\nexport var editorInfoBorder = registerColor('editorInfo.border', { dark: null, light: null, hc: Color.fromHex('#75BEFF').transparent(0.8) }, nls.localize('infoBorder', 'Border color of info boxes in the editor.'));\r\nexport var editorHintForeground = registerColor('editorHint.foreground', { dark: Color.fromHex('#eeeeee').transparent(0.7), light: '#6c6c6c', hc: null }, nls.localize('editorHint.foreground', 'Foreground color of hint squigglies in the editor.'));\r\nexport var editorHintBorder = registerColor('editorHint.border', { dark: null, light: null, hc: Color.fromHex('#eeeeee').transparent(0.8) }, nls.localize('hintBorder', 'Border color of hint boxes in the editor.'));\r\n/**\r\n * Editor background color.\r\n * Because of bug https://monacotools.visualstudio.com/DefaultCollection/Monaco/_workitems/edit/13254\r\n * we are *not* using the color white (or #ffffff, rgba(255,255,255)) but something very close to white.\r\n */\r\nexport var editorBackground = registerColor('editor.background', { light: '#fffffe', dark: '#1E1E1E', hc: Color.black }, nls.localize('editorBackground', \"Editor background color.\"));\r\n/**\r\n * Editor foreground color.\r\n */\r\nexport var editorForeground = registerColor('editor.foreground', { light: '#333333', dark: '#BBBBBB', hc: Color.white }, nls.localize('editorForeground', \"Editor default foreground color.\"));\r\n/**\r\n * Editor widgets\r\n */\r\nexport var editorWidgetBackground = registerColor('editorWidget.background', { dark: '#252526', light: '#F3F3F3', hc: '#0C141F' }, nls.localize('editorWidgetBackground', 'Background color of editor widgets, such as find/replace.'));\r\nexport var editorWidgetForeground = registerColor('editorWidget.foreground', { dark: foreground, light: foreground, hc: foreground }, nls.localize('editorWidgetForeground', 'Foreground color of editor widgets, such as find/replace.'));\r\nexport var editorWidgetBorder = registerColor('editorWidget.border', { dark: '#454545', light: '#C8C8C8', hc: contrastBorder }, nls.localize('editorWidgetBorder', 'Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.'));\r\nexport var editorWidgetResizeBorder = registerColor('editorWidget.resizeBorder', { light: null, dark: null, hc: null }, nls.localize('editorWidgetResizeBorder', \"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.\"));\r\n/**\r\n * Editor selection colors.\r\n */\r\nexport var editorSelectionBackground = registerColor('editor.selectionBackground', { light: '#ADD6FF', dark: '#264F78', hc: '#f3f518' }, nls.localize('editorSelectionBackground', \"Color of the editor selection.\"));\r\nexport var editorSelectionForeground = registerColor('editor.selectionForeground', { light: null, dark: null, hc: '#000000' }, nls.localize('editorSelectionForeground', \"Color of the selected text for high contrast.\"));\r\nexport var editorInactiveSelection = registerColor('editor.inactiveSelectionBackground', { light: transparent(editorSelectionBackground, 0.5), dark: transparent(editorSelectionBackground, 0.5), hc: transparent(editorSelectionBackground, 0.5) }, nls.localize('editorInactiveSelection', \"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations.\"), true);\r\nexport var editorSelectionHighlight = registerColor('editor.selectionHighlightBackground', { light: lessProminent(editorSelectionBackground, editorBackground, 0.3, 0.6), dark: lessProminent(editorSelectionBackground, editorBackground, 0.3, 0.6), hc: null }, nls.localize('editorSelectionHighlight', 'Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var editorSelectionHighlightBorder = registerColor('editor.selectionHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('editorSelectionHighlightBorder', \"Border color for regions with the same content as the selection.\"));\r\n/**\r\n * Editor find match colors.\r\n */\r\nexport var editorFindMatch = registerColor('editor.findMatchBackground', { light: '#A8AC94', dark: '#515C6A', hc: null }, nls.localize('editorFindMatch', \"Color of the current search match.\"));\r\nexport var editorFindMatchHighlight = registerColor('editor.findMatchHighlightBackground', { light: '#EA5C0055', dark: '#EA5C0055', hc: null }, nls.localize('findMatchHighlight', \"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations.\"), true);\r\nexport var editorFindRangeHighlight = registerColor('editor.findRangeHighlightBackground', { dark: '#3a3d4166', light: '#b4b4b44d', hc: null }, nls.localize('findRangeHighlight', \"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations.\"), true);\r\nexport var editorFindMatchBorder = registerColor('editor.findMatchBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('editorFindMatchBorder', \"Border color of the current search match.\"));\r\nexport var editorFindMatchHighlightBorder = registerColor('editor.findMatchHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('findMatchHighlightBorder', \"Border color of the other search matches.\"));\r\nexport var editorFindRangeHighlightBorder = registerColor('editor.findRangeHighlightBorder', { dark: null, light: null, hc: transparent(activeContrastBorder, 0.4) }, nls.localize('findRangeHighlightBorder', \"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations.\"), true);\r\n/**\r\n * Editor hover\r\n */\r\nexport var editorHoverHighlight = registerColor('editor.hoverHighlightBackground', { light: '#ADD6FF26', dark: '#264f7840', hc: '#ADD6FF26' }, nls.localize('hoverHighlight', 'Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var editorHoverBackground = registerColor('editorHoverWidget.background', { light: editorWidgetBackground, dark: editorWidgetBackground, hc: editorWidgetBackground }, nls.localize('hoverBackground', 'Background color of the editor hover.'));\r\nexport var editorHoverForeground = registerColor('editorHoverWidget.foreground', { light: editorWidgetForeground, dark: editorWidgetForeground, hc: editorWidgetForeground }, nls.localize('hoverForeground', 'Foreground color of the editor hover.'));\r\nexport var editorHoverBorder = registerColor('editorHoverWidget.border', { light: editorWidgetBorder, dark: editorWidgetBorder, hc: editorWidgetBorder }, nls.localize('hoverBorder', 'Border color of the editor hover.'));\r\nexport var editorHoverStatusBarBackground = registerColor('editorHoverWidget.statusBarBackground', { dark: lighten(editorHoverBackground, 0.2), light: darken(editorHoverBackground, 0.05), hc: editorWidgetBackground }, nls.localize('statusBarBackground', \"Background color of the editor hover status bar.\"));\r\n/**\r\n * Editor link colors\r\n */\r\nexport var editorActiveLinkForeground = registerColor('editorLink.activeForeground', { dark: '#4E94CE', light: Color.blue, hc: Color.cyan }, nls.localize('activeLinkForeground', 'Color of active links.'));\r\n/**\r\n * Editor lighbulb icon colors\r\n */\r\nexport var editorLightBulbForeground = registerColor('editorLightBulb.foreground', { dark: '#FFCC00', light: '#DDB100', hc: '#FFCC00' }, nls.localize('editorLightBulbForeground', \"The color used for the lightbulb actions icon.\"));\r\nexport var editorLightBulbAutoFixForeground = registerColor('editorLightBulbAutoFix.foreground', { dark: '#75BEFF', light: '#007ACC', hc: '#75BEFF' }, nls.localize('editorLightBulbAutoFixForeground', \"The color used for the lightbulb auto fix actions icon.\"));\r\n/**\r\n * Diff Editor Colors\r\n */\r\nexport var defaultInsertColor = new Color(new RGBA(155, 185, 85, 0.2));\r\nexport var defaultRemoveColor = new Color(new RGBA(255, 0, 0, 0.2));\r\nexport var diffInserted = registerColor('diffEditor.insertedTextBackground', { dark: defaultInsertColor, light: defaultInsertColor, hc: null }, nls.localize('diffEditorInserted', 'Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var diffRemoved = registerColor('diffEditor.removedTextBackground', { dark: defaultRemoveColor, light: defaultRemoveColor, hc: null }, nls.localize('diffEditorRemoved', 'Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var diffInsertedOutline = registerColor('diffEditor.insertedTextBorder', { dark: null, light: null, hc: '#33ff2eff' }, nls.localize('diffEditorInsertedOutline', 'Outline color for the text that got inserted.'));\r\nexport var diffRemovedOutline = registerColor('diffEditor.removedTextBorder', { dark: null, light: null, hc: '#FF008F' }, nls.localize('diffEditorRemovedOutline', 'Outline color for text that got removed.'));\r\nexport var diffBorder = registerColor('diffEditor.border', { dark: null, light: null, hc: contrastBorder }, nls.localize('diffEditorBorder', 'Border color between the two text editors.'));\r\n/**\r\n * List and tree colors\r\n */\r\nexport var listFocusBackground = registerColor('list.focusBackground', { dark: '#062F4A', light: '#D6EBFF', hc: null }, nls.localize('listFocusBackground', \"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listFocusForeground = registerColor('list.focusForeground', { dark: null, light: null, hc: null }, nls.localize('listFocusForeground', \"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listActiveSelectionBackground = registerColor('list.activeSelectionBackground', { dark: '#094771', light: '#0074E8', hc: null }, nls.localize('listActiveSelectionBackground', \"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listActiveSelectionForeground = registerColor('list.activeSelectionForeground', { dark: Color.white, light: Color.white, hc: null }, nls.localize('listActiveSelectionForeground', \"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listInactiveSelectionBackground = registerColor('list.inactiveSelectionBackground', { dark: '#37373D', light: '#E4E6F1', hc: null }, nls.localize('listInactiveSelectionBackground', \"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listInactiveSelectionForeground = registerColor('list.inactiveSelectionForeground', { dark: null, light: null, hc: null }, nls.localize('listInactiveSelectionForeground', \"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listInactiveFocusBackground = registerColor('list.inactiveFocusBackground', { dark: null, light: null, hc: null }, nls.localize('listInactiveFocusBackground', \"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.\"));\r\nexport var listHoverBackground = registerColor('list.hoverBackground', { dark: '#2A2D2E', light: '#F0F0F0', hc: null }, nls.localize('listHoverBackground', \"List/Tree background when hovering over items using the mouse.\"));\r\nexport var listHoverForeground = registerColor('list.hoverForeground', { dark: null, light: null, hc: null }, nls.localize('listHoverForeground', \"List/Tree foreground when hovering over items using the mouse.\"));\r\nexport var listDropBackground = registerColor('list.dropBackground', { dark: listFocusBackground, light: listFocusBackground, hc: null }, nls.localize('listDropBackground', \"List/Tree drag and drop background when moving items around using the mouse.\"));\r\nexport var listHighlightForeground = registerColor('list.highlightForeground', { dark: '#0097fb', light: '#0066BF', hc: focusBorder }, nls.localize('highlight', 'List/Tree foreground color of the match highlights when searching inside the list/tree.'));\r\nexport var listFilterWidgetBackground = registerColor('listFilterWidget.background', { light: '#efc1ad', dark: '#653723', hc: Color.black }, nls.localize('listFilterWidgetBackground', 'Background color of the type filter widget in lists and trees.'));\r\nexport var listFilterWidgetOutline = registerColor('listFilterWidget.outline', { dark: Color.transparent, light: Color.transparent, hc: '#f38518' }, nls.localize('listFilterWidgetOutline', 'Outline color of the type filter widget in lists and trees.'));\r\nexport var listFilterWidgetNoMatchesOutline = registerColor('listFilterWidget.noMatchesOutline', { dark: '#BE1100', light: '#BE1100', hc: contrastBorder }, nls.localize('listFilterWidgetNoMatchesOutline', 'Outline color of the type filter widget in lists and trees, when there are no matches.'));\r\nexport var treeIndentGuidesStroke = registerColor('tree.indentGuidesStroke', { dark: '#585858', light: '#a9a9a9', hc: '#a9a9a9' }, nls.localize('treeIndentGuidesStroke', \"Tree stroke color for the indentation guides.\"));\r\n/**\r\n * Menu colors\r\n */\r\nexport var menuBorder = registerColor('menu.border', { dark: null, light: null, hc: contrastBorder }, nls.localize('menuBorder', \"Border color of menus.\"));\r\nexport var menuForeground = registerColor('menu.foreground', { dark: selectForeground, light: foreground, hc: selectForeground }, nls.localize('menuForeground', \"Foreground color of menu items.\"));\r\nexport var menuBackground = registerColor('menu.background', { dark: selectBackground, light: selectBackground, hc: selectBackground }, nls.localize('menuBackground', \"Background color of menu items.\"));\r\nexport var menuSelectionForeground = registerColor('menu.selectionForeground', { dark: listActiveSelectionForeground, light: listActiveSelectionForeground, hc: listActiveSelectionForeground }, nls.localize('menuSelectionForeground', \"Foreground color of the selected menu item in menus.\"));\r\nexport var menuSelectionBackground = registerColor('menu.selectionBackground', { dark: listActiveSelectionBackground, light: listActiveSelectionBackground, hc: listActiveSelectionBackground }, nls.localize('menuSelectionBackground', \"Background color of the selected menu item in menus.\"));\r\nexport var menuSelectionBorder = registerColor('menu.selectionBorder', { dark: null, light: null, hc: activeContrastBorder }, nls.localize('menuSelectionBorder', \"Border color of the selected menu item in menus.\"));\r\nexport var menuSeparatorBackground = registerColor('menu.separatorBackground', { dark: '#BBBBBB', light: '#888888', hc: contrastBorder }, nls.localize('menuSeparatorBackground', \"Color of a separator menu item in menus.\"));\r\n/**\r\n * Snippet placeholder colors\r\n */\r\nexport var snippetTabstopHighlightBackground = registerColor('editor.snippetTabstopHighlightBackground', { dark: new Color(new RGBA(124, 124, 124, 0.3)), light: new Color(new RGBA(10, 50, 100, 0.2)), hc: new Color(new RGBA(124, 124, 124, 0.3)) }, nls.localize('snippetTabstopHighlightBackground', \"Highlight background color of a snippet tabstop.\"));\r\nexport var snippetTabstopHighlightBorder = registerColor('editor.snippetTabstopHighlightBorder', { dark: null, light: null, hc: null }, nls.localize('snippetTabstopHighlightBorder', \"Highlight border color of a snippet tabstop.\"));\r\nexport var snippetFinalTabstopHighlightBackground = registerColor('editor.snippetFinalTabstopHighlightBackground', { dark: null, light: null, hc: null }, nls.localize('snippetFinalTabstopHighlightBackground', \"Highlight background color of the final tabstop of a snippet.\"));\r\nexport var snippetFinalTabstopHighlightBorder = registerColor('editor.snippetFinalTabstopHighlightBorder', { dark: '#525252', light: new Color(new RGBA(10, 50, 100, 0.5)), hc: '#525252' }, nls.localize('snippetFinalTabstopHighlightBorder', \"Highlight border color of the final stabstop of a snippet.\"));\r\nexport var overviewRulerFindMatchForeground = registerColor('editorOverviewRuler.findMatchForeground', { dark: '#d186167e', light: '#d186167e', hc: '#AB5A00' }, nls.localize('overviewRulerFindMatchForeground', 'Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var overviewRulerSelectionHighlightForeground = registerColor('editorOverviewRuler.selectionHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerSelectionHighlightForeground', 'Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nexport var minimapFindMatch = registerColor('minimap.findMatchHighlight', { light: '#d18616', dark: '#d18616', hc: '#AB5A00' }, nls.localize('minimapFindMatchHighlight', 'Minimap marker color for find matches.'), true);\r\nexport var minimapSelection = registerColor('minimap.selectionHighlight', { light: '#ADD6FF', dark: '#264F78', hc: '#ffffff' }, nls.localize('minimapSelectionHighlight', 'Minimap marker color for the editor selection.'), true);\r\nexport var minimapError = registerColor('minimap.errorHighlight', { dark: new Color(new RGBA(255, 18, 18, 0.7)), light: new Color(new RGBA(255, 18, 18, 0.7)), hc: new Color(new RGBA(255, 50, 50, 1)) }, nls.localize('minimapError', 'Minimap marker color for errors.'));\r\nexport var minimapWarning = registerColor('minimap.warningHighlight', { dark: editorWarningForeground, light: editorWarningForeground, hc: editorWarningBorder }, nls.localize('overviewRuleWarning', 'Minimap marker color for warnings.'));\r\nexport var problemsErrorIconForeground = registerColor('problemsErrorIcon.foreground', { dark: editorErrorForeground, light: editorErrorForeground, hc: editorErrorForeground }, nls.localize('problemsErrorIconForeground', \"The color used for the problems error icon.\"));\r\nexport var problemsWarningIconForeground = registerColor('problemsWarningIcon.foreground', { dark: editorWarningForeground, light: editorWarningForeground, hc: editorWarningForeground }, nls.localize('problemsWarningIconForeground', \"The color used for the problems warning icon.\"));\r\nexport var problemsInfoIconForeground = registerColor('problemsInfoIcon.foreground', { dark: editorInfoForeground, light: editorInfoForeground, hc: editorInfoForeground }, nls.localize('problemsInfoIconForeground', \"The color used for the problems info icon.\"));\r\n// ----- color functions\r\nexport function darken(colorValue, factor) {\r\n    return function (theme) {\r\n        var color = resolveColorValue(colorValue, theme);\r\n        if (color) {\r\n            return color.darken(factor);\r\n        }\r\n        return undefined;\r\n    };\r\n}\r\nexport function lighten(colorValue, factor) {\r\n    return function (theme) {\r\n        var color = resolveColorValue(colorValue, theme);\r\n        if (color) {\r\n            return color.lighten(factor);\r\n        }\r\n        return undefined;\r\n    };\r\n}\r\nexport function transparent(colorValue, factor) {\r\n    return function (theme) {\r\n        var color = resolveColorValue(colorValue, theme);\r\n        if (color) {\r\n            return color.transparent(factor);\r\n        }\r\n        return undefined;\r\n    };\r\n}\r\nexport function oneOf() {\r\n    var colorValues = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        colorValues[_i] = arguments[_i];\r\n    }\r\n    return function (theme) {\r\n        for (var _i = 0, colorValues_1 = colorValues; _i < colorValues_1.length; _i++) {\r\n            var colorValue = colorValues_1[_i];\r\n            var color = resolveColorValue(colorValue, theme);\r\n            if (color) {\r\n                return color;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n}\r\nfunction lessProminent(colorValue, backgroundColorValue, factor, transparency) {\r\n    return function (theme) {\r\n        var from = resolveColorValue(colorValue, theme);\r\n        if (from) {\r\n            var backgroundColor = resolveColorValue(backgroundColorValue, theme);\r\n            if (backgroundColor) {\r\n                if (from.isDarkerThan(backgroundColor)) {\r\n                    return Color.getLighterColor(from, backgroundColor, factor).transparent(transparency);\r\n                }\r\n                return Color.getDarkerColor(from, backgroundColor, factor).transparent(transparency);\r\n            }\r\n            return from.transparent(factor * transparency);\r\n        }\r\n        return undefined;\r\n    };\r\n}\r\n// ----- implementation\r\n/**\r\n * @param colorValue Resolve a color value in the context of a theme\r\n */\r\nexport function resolveColorValue(colorValue, theme) {\r\n    if (colorValue === null) {\r\n        return undefined;\r\n    }\r\n    else if (typeof colorValue === 'string') {\r\n        if (colorValue[0] === '#') {\r\n            return Color.fromHex(colorValue);\r\n        }\r\n        return theme.getColor(colorValue);\r\n    }\r\n    else if (colorValue instanceof Color) {\r\n        return colorValue;\r\n    }\r\n    else if (typeof colorValue === 'function') {\r\n        return colorValue(theme);\r\n    }\r\n    return undefined;\r\n}\r\nexport var workbenchColorsSchemaId = 'vscode://schemas/workbench-colors';\r\nvar schemaRegistry = platform.Registry.as(JSONExtensions.JSONContribution);\r\nschemaRegistry.registerSchema(workbenchColorsSchemaId, colorRegistry.getColorSchema());\r\nvar delayer = new RunOnceScheduler(function () { return schemaRegistry.notifySchemaChanged(workbenchColorsSchemaId); }, 200);\r\ncolorRegistry.onDidChangeSchema(function () {\r\n    if (!delayer.isScheduled()) {\r\n        delayer.schedule();\r\n    }\r\n});\r\n// setTimeout(_ => console.log(colorRegistry.toString()), 5000);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\r\nimport { Schemas } from '../../../base/common/network.js';\r\nimport { isEmptyObject } from '../../../base/common/types.js';\r\nimport { Event, Emitter } from '../../../base/common/event.js';\r\nimport { MarkerSeverity } from './markers.js';\r\nvar MapMap;\r\n(function (MapMap) {\r\n    function get(map, key1, key2) {\r\n        if (map[key1]) {\r\n            return map[key1][key2];\r\n        }\r\n        return undefined;\r\n    }\r\n    MapMap.get = get;\r\n    function set(map, key1, key2, value) {\r\n        if (!map[key1]) {\r\n            map[key1] = Object.create(null);\r\n        }\r\n        map[key1][key2] = value;\r\n    }\r\n    MapMap.set = set;\r\n    function remove(map, key1, key2) {\r\n        if (map[key1] && map[key1][key2]) {\r\n            delete map[key1][key2];\r\n            if (isEmptyObject(map[key1])) {\r\n                delete map[key1];\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    MapMap.remove = remove;\r\n})(MapMap || (MapMap = {}));\r\nvar MarkerStats = /** @class */ (function () {\r\n    function MarkerStats(service) {\r\n        this.errors = 0;\r\n        this.infos = 0;\r\n        this.warnings = 0;\r\n        this.unknowns = 0;\r\n        this._data = Object.create(null);\r\n        this._service = service;\r\n        this._subscription = service.onMarkerChanged(this._update, this);\r\n    }\r\n    MarkerStats.prototype.dispose = function () {\r\n        this._subscription.dispose();\r\n        this._data = undefined;\r\n    };\r\n    MarkerStats.prototype._update = function (resources) {\r\n        if (!this._data) {\r\n            return;\r\n        }\r\n        for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\r\n            var resource = resources_1[_i];\r\n            var key = resource.toString();\r\n            var oldStats = this._data[key];\r\n            if (oldStats) {\r\n                this._substract(oldStats);\r\n            }\r\n            var newStats = this._resourceStats(resource);\r\n            this._add(newStats);\r\n            this._data[key] = newStats;\r\n        }\r\n    };\r\n    MarkerStats.prototype._resourceStats = function (resource) {\r\n        var result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\r\n        // TODO this is a hack\r\n        if (resource.scheme === Schemas.inMemory || resource.scheme === Schemas.walkThrough || resource.scheme === Schemas.walkThroughSnippet) {\r\n            return result;\r\n        }\r\n        for (var _i = 0, _a = this._service.read({ resource: resource }); _i < _a.length; _i++) {\r\n            var severity = _a[_i].severity;\r\n            if (severity === MarkerSeverity.Error) {\r\n                result.errors += 1;\r\n            }\r\n            else if (severity === MarkerSeverity.Warning) {\r\n                result.warnings += 1;\r\n            }\r\n            else if (severity === MarkerSeverity.Info) {\r\n                result.infos += 1;\r\n            }\r\n            else {\r\n                result.unknowns += 1;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    MarkerStats.prototype._substract = function (op) {\r\n        this.errors -= op.errors;\r\n        this.warnings -= op.warnings;\r\n        this.infos -= op.infos;\r\n        this.unknowns -= op.unknowns;\r\n    };\r\n    MarkerStats.prototype._add = function (op) {\r\n        this.errors += op.errors;\r\n        this.warnings += op.warnings;\r\n        this.infos += op.infos;\r\n        this.unknowns += op.unknowns;\r\n    };\r\n    return MarkerStats;\r\n}());\r\nvar MarkerService = /** @class */ (function () {\r\n    function MarkerService() {\r\n        this._onMarkerChanged = new Emitter();\r\n        this._onMarkerChangedEvent = Event.debounce(this._onMarkerChanged.event, MarkerService._debouncer, 0);\r\n        this._byResource = Object.create(null);\r\n        this._byOwner = Object.create(null);\r\n        this._stats = new MarkerStats(this);\r\n    }\r\n    MarkerService.prototype.dispose = function () {\r\n        this._stats.dispose();\r\n    };\r\n    Object.defineProperty(MarkerService.prototype, \"onMarkerChanged\", {\r\n        get: function () {\r\n            return this._onMarkerChangedEvent;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerService.prototype.remove = function (owner, resources) {\r\n        for (var _i = 0, _a = resources || []; _i < _a.length; _i++) {\r\n            var resource = _a[_i];\r\n            this.changeOne(owner, resource, []);\r\n        }\r\n    };\r\n    MarkerService.prototype.changeOne = function (owner, resource, markerData) {\r\n        if (isFalsyOrEmpty(markerData)) {\r\n            // remove marker for this (owner,resource)-tuple\r\n            var a = MapMap.remove(this._byResource, resource.toString(), owner);\r\n            var b = MapMap.remove(this._byOwner, owner, resource.toString());\r\n            if (a !== b) {\r\n                throw new Error('invalid marker service state');\r\n            }\r\n            if (a && b) {\r\n                this._onMarkerChanged.fire([resource]);\r\n            }\r\n        }\r\n        else {\r\n            // insert marker for this (owner,resource)-tuple\r\n            var markers = [];\r\n            for (var _i = 0, markerData_1 = markerData; _i < markerData_1.length; _i++) {\r\n                var data = markerData_1[_i];\r\n                var marker = MarkerService._toMarker(owner, resource, data);\r\n                if (marker) {\r\n                    markers.push(marker);\r\n                }\r\n            }\r\n            MapMap.set(this._byResource, resource.toString(), owner, markers);\r\n            MapMap.set(this._byOwner, owner, resource.toString(), markers);\r\n            this._onMarkerChanged.fire([resource]);\r\n        }\r\n    };\r\n    MarkerService._toMarker = function (owner, resource, data) {\r\n        var code = data.code, severity = data.severity, message = data.message, source = data.source, startLineNumber = data.startLineNumber, startColumn = data.startColumn, endLineNumber = data.endLineNumber, endColumn = data.endColumn, relatedInformation = data.relatedInformation, tags = data.tags;\r\n        if (!message) {\r\n            return undefined;\r\n        }\r\n        // santize data\r\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\r\n        startColumn = startColumn > 0 ? startColumn : 1;\r\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\r\n        endColumn = endColumn > 0 ? endColumn : startColumn;\r\n        return {\r\n            resource: resource,\r\n            owner: owner,\r\n            code: code,\r\n            severity: severity,\r\n            message: message,\r\n            source: source,\r\n            startLineNumber: startLineNumber,\r\n            startColumn: startColumn,\r\n            endLineNumber: endLineNumber,\r\n            endColumn: endColumn,\r\n            relatedInformation: relatedInformation,\r\n            tags: tags,\r\n        };\r\n    };\r\n    MarkerService.prototype.read = function (filter) {\r\n        if (filter === void 0) { filter = Object.create(null); }\r\n        var owner = filter.owner, resource = filter.resource, severities = filter.severities, take = filter.take;\r\n        if (!take || take < 0) {\r\n            take = -1;\r\n        }\r\n        if (owner && resource) {\r\n            // exactly one owner AND resource\r\n            var data = MapMap.get(this._byResource, resource.toString(), owner);\r\n            if (!data) {\r\n                return [];\r\n            }\r\n            else {\r\n                var result = [];\r\n                for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n                    var marker = data_1[_i];\r\n                    if (MarkerService._accept(marker, severities)) {\r\n                        var newLen = result.push(marker);\r\n                        if (take > 0 && newLen === take) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n        else if (!owner && !resource) {\r\n            // all\r\n            var result = [];\r\n            for (var key1 in this._byResource) {\r\n                for (var key2 in this._byResource[key1]) {\r\n                    for (var _a = 0, _b = this._byResource[key1][key2]; _a < _b.length; _a++) {\r\n                        var data = _b[_a];\r\n                        if (MarkerService._accept(data, severities)) {\r\n                            var newLen = result.push(data);\r\n                            if (take > 0 && newLen === take) {\r\n                                return result;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            // of one resource OR owner\r\n            var map = owner\r\n                ? this._byOwner[owner]\r\n                : resource ? this._byResource[resource.toString()] : undefined;\r\n            if (!map) {\r\n                return [];\r\n            }\r\n            var result = [];\r\n            for (var key in map) {\r\n                for (var _c = 0, _d = map[key]; _c < _d.length; _c++) {\r\n                    var data = _d[_c];\r\n                    if (MarkerService._accept(data, severities)) {\r\n                        var newLen = result.push(data);\r\n                        if (take > 0 && newLen === take) {\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    MarkerService._accept = function (marker, severities) {\r\n        return severities === undefined || (severities & marker.severity) === marker.severity;\r\n    };\r\n    MarkerService._debouncer = function (last, event) {\r\n        if (!last) {\r\n            MarkerService._dedupeMap = Object.create(null);\r\n            last = [];\r\n        }\r\n        for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\r\n            var uri = event_1[_i];\r\n            if (MarkerService._dedupeMap[uri.toString()] === undefined) {\r\n                MarkerService._dedupeMap[uri.toString()] = true;\r\n                last.push(uri);\r\n            }\r\n        }\r\n        return last;\r\n    };\r\n    return MarkerService;\r\n}());\r\nexport { MarkerService };\r\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nvar LABEL_SERVICE_ID = 'label';\r\nexport var ILabelService = createDecorator(LABEL_SERVICE_ID);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isEmptyObject } from '../../../base/common/types.js';\r\nimport { forEach } from '../../../base/common/collections.js';\r\nfunction newNode(data) {\r\n    return {\r\n        data: data,\r\n        incoming: Object.create(null),\r\n        outgoing: Object.create(null)\r\n    };\r\n}\r\nvar Graph = /** @class */ (function () {\r\n    function Graph(_hashFn) {\r\n        this._hashFn = _hashFn;\r\n        this._nodes = Object.create(null);\r\n        // empty\r\n    }\r\n    Graph.prototype.roots = function () {\r\n        var ret = [];\r\n        forEach(this._nodes, function (entry) {\r\n            if (isEmptyObject(entry.value.outgoing)) {\r\n                ret.push(entry.value);\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    Graph.prototype.insertEdge = function (from, to) {\r\n        var fromNode = this.lookupOrInsertNode(from), toNode = this.lookupOrInsertNode(to);\r\n        fromNode.outgoing[this._hashFn(to)] = toNode;\r\n        toNode.incoming[this._hashFn(from)] = fromNode;\r\n    };\r\n    Graph.prototype.removeNode = function (data) {\r\n        var key = this._hashFn(data);\r\n        delete this._nodes[key];\r\n        forEach(this._nodes, function (entry) {\r\n            delete entry.value.outgoing[key];\r\n            delete entry.value.incoming[key];\r\n        });\r\n    };\r\n    Graph.prototype.lookupOrInsertNode = function (data) {\r\n        var key = this._hashFn(data);\r\n        var node = this._nodes[key];\r\n        if (!node) {\r\n            node = newNode(data);\r\n            this._nodes[key] = node;\r\n        }\r\n        return node;\r\n    };\r\n    Graph.prototype.isEmpty = function () {\r\n        for (var _key in this._nodes) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Graph.prototype.toString = function () {\r\n        var data = [];\r\n        forEach(this._nodes, function (entry) {\r\n            data.push(entry.key + \", (incoming)[\" + Object.keys(entry.value.incoming).join(', ') + \"], (outgoing)[\" + Object.keys(entry.value.outgoing).join(',') + \"]\");\r\n        });\r\n        return data.join('\\n');\r\n    };\r\n    return Graph;\r\n}());\r\nexport { Graph };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { illegalState } from '../../../base/common/errors.js';\r\nimport { Graph } from './graph.js';\r\nimport { SyncDescriptor } from './descriptors.js';\r\nimport { IInstantiationService, _util, optional } from './instantiation.js';\r\nimport { ServiceCollection } from './serviceCollection.js';\r\nimport { IdleValue } from '../../../base/common/async.js';\r\n// TRACING\r\nvar _enableTracing = false;\r\nvar _canUseProxy = typeof Proxy === 'function';\r\nvar CyclicDependencyError = /** @class */ (function (_super) {\r\n    __extends(CyclicDependencyError, _super);\r\n    function CyclicDependencyError(graph) {\r\n        var _this = _super.call(this, 'cyclic dependency between services') || this;\r\n        _this.message = graph.toString();\r\n        return _this;\r\n    }\r\n    return CyclicDependencyError;\r\n}(Error));\r\nvar InstantiationService = /** @class */ (function () {\r\n    function InstantiationService(services, strict, parent) {\r\n        if (services === void 0) { services = new ServiceCollection(); }\r\n        if (strict === void 0) { strict = false; }\r\n        this._services = services;\r\n        this._strict = strict;\r\n        this._parent = parent;\r\n        this._services.set(IInstantiationService, this);\r\n    }\r\n    InstantiationService.prototype.createChild = function (services) {\r\n        return new InstantiationService(services, this._strict, this);\r\n    };\r\n    InstantiationService.prototype.invokeFunction = function (fn) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _trace = Trace.traceInvocation(fn);\r\n        var _done = false;\r\n        try {\r\n            var accessor = {\r\n                get: function (id, isOptional) {\r\n                    if (_done) {\r\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\r\n                    }\r\n                    var result = _this._getOrCreateServiceInstance(id, _trace);\r\n                    if (!result && isOptional !== optional) {\r\n                        throw new Error(\"[invokeFunction] unknown service '\" + id + \"'\");\r\n                    }\r\n                    return result;\r\n                }\r\n            };\r\n            return fn.apply(undefined, __spreadArrays([accessor], args));\r\n        }\r\n        finally {\r\n            _done = true;\r\n            _trace.stop();\r\n        }\r\n    };\r\n    InstantiationService.prototype.createInstance = function (ctorOrDescriptor) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        var _trace;\r\n        var result;\r\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\r\n            _trace = Trace.traceCreation(ctorOrDescriptor.ctor);\r\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\r\n        }\r\n        else {\r\n            _trace = Trace.traceCreation(ctorOrDescriptor);\r\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\r\n        }\r\n        _trace.stop();\r\n        return result;\r\n    };\r\n    InstantiationService.prototype._createInstance = function (ctor, args, _trace) {\r\n        if (args === void 0) { args = []; }\r\n        // arguments defined by service decorators\r\n        var serviceDependencies = _util.getServiceDependencies(ctor).sort(function (a, b) { return a.index - b.index; });\r\n        var serviceArgs = [];\r\n        for (var _i = 0, serviceDependencies_1 = serviceDependencies; _i < serviceDependencies_1.length; _i++) {\r\n            var dependency = serviceDependencies_1[_i];\r\n            var service = this._getOrCreateServiceInstance(dependency.id, _trace);\r\n            if (!service && this._strict && !dependency.optional) {\r\n                throw new Error(\"[createInstance] \" + ctor.name + \" depends on UNKNOWN service \" + dependency.id + \".\");\r\n            }\r\n            serviceArgs.push(service);\r\n        }\r\n        var firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\r\n        // check for argument mismatches, adjust static args if needed\r\n        if (args.length !== firstServiceArgPos) {\r\n            console.warn(\"[createInstance] First service dependency of \" + ctor.name + \" at position \" + (firstServiceArgPos + 1) + \" conflicts with \" + args.length + \" static arguments\");\r\n            var delta = firstServiceArgPos - args.length;\r\n            if (delta > 0) {\r\n                args = args.concat(new Array(delta));\r\n            }\r\n            else {\r\n                args = args.slice(0, firstServiceArgPos);\r\n            }\r\n        }\r\n        // now create the instance\r\n        return new (ctor.bind.apply(ctor, __spreadArrays([void 0], __spreadArrays(args, serviceArgs))))();\r\n    };\r\n    InstantiationService.prototype._setServiceInstance = function (id, instance) {\r\n        if (this._services.get(id) instanceof SyncDescriptor) {\r\n            this._services.set(id, instance);\r\n        }\r\n        else if (this._parent) {\r\n            this._parent._setServiceInstance(id, instance);\r\n        }\r\n        else {\r\n            throw new Error('illegalState - setting UNKNOWN service instance');\r\n        }\r\n    };\r\n    InstantiationService.prototype._getServiceInstanceOrDescriptor = function (id) {\r\n        var instanceOrDesc = this._services.get(id);\r\n        if (!instanceOrDesc && this._parent) {\r\n            return this._parent._getServiceInstanceOrDescriptor(id);\r\n        }\r\n        else {\r\n            return instanceOrDesc;\r\n        }\r\n    };\r\n    InstantiationService.prototype._getOrCreateServiceInstance = function (id, _trace) {\r\n        var thing = this._getServiceInstanceOrDescriptor(id);\r\n        if (thing instanceof SyncDescriptor) {\r\n            return this._createAndCacheServiceInstance(id, thing, _trace.branch(id, true));\r\n        }\r\n        else {\r\n            _trace.branch(id, false);\r\n            return thing;\r\n        }\r\n    };\r\n    InstantiationService.prototype._createAndCacheServiceInstance = function (id, desc, _trace) {\r\n        var graph = new Graph(function (data) { return data.id.toString(); });\r\n        var cycleCount = 0;\r\n        var stack = [{ id: id, desc: desc, _trace: _trace }];\r\n        while (stack.length) {\r\n            var item = stack.pop();\r\n            graph.lookupOrInsertNode(item);\r\n            // a weak but working heuristic for cycle checks\r\n            if (cycleCount++ > 150) {\r\n                throw new CyclicDependencyError(graph);\r\n            }\r\n            // check all dependencies for existence and if they need to be created first\r\n            for (var _i = 0, _a = _util.getServiceDependencies(item.desc.ctor); _i < _a.length; _i++) {\r\n                var dependency = _a[_i];\r\n                var instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\r\n                if (!instanceOrDesc && !dependency.optional) {\r\n                    console.warn(\"[createInstance] \" + id + \" depends on \" + dependency.id + \" which is NOT registered.\");\r\n                }\r\n                if (instanceOrDesc instanceof SyncDescriptor) {\r\n                    var d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\r\n                    graph.insertEdge(item, d);\r\n                    stack.push(d);\r\n                }\r\n            }\r\n        }\r\n        while (true) {\r\n            var roots = graph.roots();\r\n            // if there is no more roots but still\r\n            // nodes in the graph we have a cycle\r\n            if (roots.length === 0) {\r\n                if (!graph.isEmpty()) {\r\n                    throw new CyclicDependencyError(graph);\r\n                }\r\n                break;\r\n            }\r\n            for (var _b = 0, roots_1 = roots; _b < roots_1.length; _b++) {\r\n                var data = roots_1[_b].data;\r\n                // create instance and overwrite the service collections\r\n                var instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\r\n                this._setServiceInstance(data.id, instance);\r\n                graph.removeNode(data);\r\n            }\r\n        }\r\n        return this._getServiceInstanceOrDescriptor(id);\r\n    };\r\n    InstantiationService.prototype._createServiceInstanceWithOwner = function (id, ctor, args, supportsDelayedInstantiation, _trace) {\r\n        if (args === void 0) { args = []; }\r\n        if (this._services.get(id) instanceof SyncDescriptor) {\r\n            return this._createServiceInstance(ctor, args, supportsDelayedInstantiation, _trace);\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\r\n        }\r\n        else {\r\n            throw new Error(\"illegalState - creating UNKNOWN service instance \" + ctor.name);\r\n        }\r\n    };\r\n    InstantiationService.prototype._createServiceInstance = function (ctor, args, _supportsDelayedInstantiation, _trace) {\r\n        var _this = this;\r\n        if (args === void 0) { args = []; }\r\n        if (!_supportsDelayedInstantiation || !_canUseProxy) {\r\n            // eager instantiation or no support JS proxies (e.g. IE11)\r\n            return this._createInstance(ctor, args, _trace);\r\n        }\r\n        else {\r\n            // Return a proxy object that's backed by an idle value. That\r\n            // strategy is to instantiate services in our idle time or when actually\r\n            // needed but not when injected into a consumer\r\n            var idle_1 = new IdleValue(function () { return _this._createInstance(ctor, args, _trace); });\r\n            return new Proxy(Object.create(null), {\r\n                get: function (target, key) {\r\n                    if (key in target) {\r\n                        return target[key];\r\n                    }\r\n                    var obj = idle_1.getValue();\r\n                    var prop = obj[key];\r\n                    if (typeof prop !== 'function') {\r\n                        return prop;\r\n                    }\r\n                    prop = prop.bind(obj);\r\n                    target[key] = prop;\r\n                    return prop;\r\n                },\r\n                set: function (_target, p, value) {\r\n                    idle_1.getValue()[p] = value;\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return InstantiationService;\r\n}());\r\nexport { InstantiationService };\r\nvar Trace = /** @class */ (function () {\r\n    function Trace(type, name) {\r\n        this.type = type;\r\n        this.name = name;\r\n        this._start = Date.now();\r\n        this._dep = [];\r\n    }\r\n    Trace.traceInvocation = function (ctor) {\r\n        return !_enableTracing ? Trace._None : new Trace(1 /* Invocation */, ctor.name || ctor.toString().substring(0, 42).replace(/\\n/g, ''));\r\n    };\r\n    Trace.traceCreation = function (ctor) {\r\n        return !_enableTracing ? Trace._None : new Trace(0 /* Creation */, ctor.name);\r\n    };\r\n    Trace.prototype.branch = function (id, first) {\r\n        var child = new Trace(2 /* Branch */, id.toString());\r\n        this._dep.push([id, first, child]);\r\n        return child;\r\n    };\r\n    Trace.prototype.stop = function () {\r\n        var dur = Date.now() - this._start;\r\n        Trace._totals += dur;\r\n        var causedCreation = false;\r\n        function printChild(n, trace) {\r\n            var res = [];\r\n            var prefix = new Array(n + 1).join('\\t');\r\n            for (var _i = 0, _a = trace._dep; _i < _a.length; _i++) {\r\n                var _b = _a[_i], id = _b[0], first = _b[1], child = _b[2];\r\n                if (first && child) {\r\n                    causedCreation = true;\r\n                    res.push(prefix + \"CREATES -> \" + id);\r\n                    var nested = printChild(n + 1, child);\r\n                    if (nested) {\r\n                        res.push(nested);\r\n                    }\r\n                }\r\n                else {\r\n                    res.push(prefix + \"uses -> \" + id);\r\n                }\r\n            }\r\n            return res.join('\\n');\r\n        }\r\n        var lines = [\r\n            (this.type === 0 /* Creation */ ? 'CREATE' : 'CALL') + \" \" + this.name,\r\n            \"\" + printChild(1, this),\r\n            \"DONE, took \" + dur.toFixed(2) + \"ms (grand total \" + Trace._totals.toFixed(2) + \"ms)\"\r\n        ];\r\n        if (dur > 2 || causedCreation) {\r\n            console.log(lines.join('\\n'));\r\n        }\r\n    };\r\n    Trace._None = new /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            return _super.call(this, -1, null) || this;\r\n        }\r\n        class_1.prototype.stop = function () { };\r\n        class_1.prototype.branch = function () { return this; };\r\n        return class_1;\r\n    }(Trace));\r\n    Trace._totals = 0;\r\n    return Trace;\r\n}());\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport Severity from '../../../base/common/severity.js';\r\nimport { registerThemingParticipant } from '../../theme/common/themeService.js';\r\nimport { problemsErrorIconForeground, problemsInfoIconForeground, problemsWarningIconForeground } from '../../theme/common/colorRegistry.js';\r\nexport var SeverityIcon;\r\n(function (SeverityIcon) {\r\n    function className(severity) {\r\n        switch (severity) {\r\n            case Severity.Ignore:\r\n                return 'severity-ignore codicon-info';\r\n            case Severity.Info:\r\n                return 'codicon-info';\r\n            case Severity.Warning:\r\n                return 'codicon-warning';\r\n            case Severity.Error:\r\n                return 'codicon-error';\r\n        }\r\n        return '';\r\n    }\r\n    SeverityIcon.className = className;\r\n})(SeverityIcon || (SeverityIcon = {}));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var errorIconForeground = theme.getColor(problemsErrorIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-error,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-error,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-error,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-error {\\n\\t\\t\\t\\tcolor: \" + errorIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var warningIconForeground = theme.getColor(problemsWarningIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-warning,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-warning,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-warning,\\n\\t\\t\\t.extension-editor .codicon-warning,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-warning {\\n\\t\\t\\t\\tcolor: \" + warningIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var infoIconForeground = theme.getColor(problemsInfoIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-info,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-info,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-info,\\n\\t\\t\\t.extension-editor .codicon-info,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-info {\\n\\t\\t\\t\\tcolor: \" + infoIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\r\nexport var IOpenerService = createDecorator('openerService');\r\nexport var NullOpenerService = Object.freeze({\r\n    _serviceBrand: undefined,\r\n    registerOpener: function () { return Disposable.None; },\r\n    registerValidator: function () { return Disposable.None; },\r\n    registerExternalUriResolver: function () { return Disposable.None; },\r\n    setExternalOpener: function () { },\r\n    open: function () {\r\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n            return [2 /*return*/, false];\r\n        }); });\r\n    },\r\n    resolveExternalUri: function (uri) {\r\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n            return [2 /*return*/, { resolved: uri, dispose: function () { } }];\r\n        }); });\r\n    },\r\n});\r\nexport function matchesScheme(target, scheme) {\r\n    if (URI.isUri(target)) {\r\n        return equalsIgnoreCase(target.scheme, scheme);\r\n    }\r\n    else {\r\n        return startsWithIgnoreCase(target, scheme + ':');\r\n    }\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var ITelemetryService = createDecorator('telemetryService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { illegalArgument } from '../../../base/common/errors.js';\r\nimport { UILabelProvider, AriaLabelProvider } from '../../../base/common/keybindingLabels.js';\r\nimport { ResolvedKeybinding, ResolvedKeybindingPart } from '../../../base/common/keyCodes.js';\r\nvar BaseResolvedKeybinding = /** @class */ (function (_super) {\r\n    __extends(BaseResolvedKeybinding, _super);\r\n    function BaseResolvedKeybinding(os, parts) {\r\n        var _this = _super.call(this) || this;\r\n        if (parts.length === 0) {\r\n            throw illegalArgument(\"parts\");\r\n        }\r\n        _this._os = os;\r\n        _this._parts = parts;\r\n        return _this;\r\n    }\r\n    BaseResolvedKeybinding.prototype.getLabel = function () {\r\n        var _this = this;\r\n        return UILabelProvider.toLabel(this._os, this._parts, function (keybinding) { return _this._getLabel(keybinding); });\r\n    };\r\n    BaseResolvedKeybinding.prototype.getAriaLabel = function () {\r\n        var _this = this;\r\n        return AriaLabelProvider.toLabel(this._os, this._parts, function (keybinding) { return _this._getAriaLabel(keybinding); });\r\n    };\r\n    BaseResolvedKeybinding.prototype.isChord = function () {\r\n        return (this._parts.length > 1);\r\n    };\r\n    BaseResolvedKeybinding.prototype.getParts = function () {\r\n        var _this = this;\r\n        return this._parts.map(function (keybinding) { return _this._getPart(keybinding); });\r\n    };\r\n    BaseResolvedKeybinding.prototype._getPart = function (keybinding) {\r\n        return new ResolvedKeybindingPart(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\r\n    };\r\n    BaseResolvedKeybinding.prototype.getDispatchParts = function () {\r\n        var _this = this;\r\n        return this._parts.map(function (keybinding) { return _this._getDispatchPart(keybinding); });\r\n    };\r\n    return BaseResolvedKeybinding;\r\n}(ResolvedKeybinding));\r\nexport { BaseResolvedKeybinding };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { KeyCodeUtils } from '../../../base/common/keyCodes.js';\r\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\r\n/**\r\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\r\n */\r\nvar USLayoutResolvedKeybinding = /** @class */ (function (_super) {\r\n    __extends(USLayoutResolvedKeybinding, _super);\r\n    function USLayoutResolvedKeybinding(actual, os) {\r\n        return _super.call(this, os, actual.parts) || this;\r\n    }\r\n    USLayoutResolvedKeybinding.prototype._keyCodeToUILabel = function (keyCode) {\r\n        if (this._os === 2 /* Macintosh */) {\r\n            switch (keyCode) {\r\n                case 15 /* LeftArrow */:\r\n                    return '';\r\n                case 16 /* UpArrow */:\r\n                    return '';\r\n                case 17 /* RightArrow */:\r\n                    return '';\r\n                case 18 /* DownArrow */:\r\n                    return '';\r\n            }\r\n        }\r\n        return KeyCodeUtils.toString(keyCode);\r\n    };\r\n    USLayoutResolvedKeybinding.prototype._getLabel = function (keybinding) {\r\n        if (keybinding.isDuplicateModifierCase()) {\r\n            return '';\r\n        }\r\n        return this._keyCodeToUILabel(keybinding.keyCode);\r\n    };\r\n    USLayoutResolvedKeybinding.prototype._getAriaLabel = function (keybinding) {\r\n        if (keybinding.isDuplicateModifierCase()) {\r\n            return '';\r\n        }\r\n        return KeyCodeUtils.toString(keybinding.keyCode);\r\n    };\r\n    USLayoutResolvedKeybinding.prototype._getDispatchPart = function (keybinding) {\r\n        return USLayoutResolvedKeybinding.getDispatchStr(keybinding);\r\n    };\r\n    USLayoutResolvedKeybinding.getDispatchStr = function (keybinding) {\r\n        if (keybinding.isModifierKey()) {\r\n            return null;\r\n        }\r\n        var result = '';\r\n        if (keybinding.ctrlKey) {\r\n            result += 'ctrl+';\r\n        }\r\n        if (keybinding.shiftKey) {\r\n            result += 'shift+';\r\n        }\r\n        if (keybinding.altKey) {\r\n            result += 'alt+';\r\n        }\r\n        if (keybinding.metaKey) {\r\n            result += 'meta+';\r\n        }\r\n        result += KeyCodeUtils.toString(keybinding.keyCode);\r\n        return result;\r\n    };\r\n    return USLayoutResolvedKeybinding;\r\n}(BaseResolvedKeybinding));\r\nexport { USLayoutResolvedKeybinding };\r\n","import { ContextKeyOrExpr } from '../../contextkey/common/contextkey.js';\r\nvar KeybindingResolver = /** @class */ (function () {\r\n    function KeybindingResolver(defaultKeybindings, overrides) {\r\n        this._defaultKeybindings = defaultKeybindings;\r\n        this._defaultBoundCommands = new Map();\r\n        for (var i = 0, len = defaultKeybindings.length; i < len; i++) {\r\n            var command = defaultKeybindings[i].command;\r\n            if (command) {\r\n                this._defaultBoundCommands.set(command, true);\r\n            }\r\n        }\r\n        this._map = new Map();\r\n        this._lookupMap = new Map();\r\n        this._keybindings = KeybindingResolver.combine(defaultKeybindings, overrides);\r\n        for (var i = 0, len = this._keybindings.length; i < len; i++) {\r\n            var k = this._keybindings[i];\r\n            if (k.keypressParts.length === 0) {\r\n                // unbound\r\n                continue;\r\n            }\r\n            // TODO@chords\r\n            this._addKeyPress(k.keypressParts[0], k);\r\n        }\r\n    }\r\n    KeybindingResolver._isTargetedForRemoval = function (defaultKb, keypressFirstPart, keypressChordPart, command, when) {\r\n        if (defaultKb.command !== command) {\r\n            return false;\r\n        }\r\n        // TODO@chords\r\n        if (keypressFirstPart && defaultKb.keypressParts[0] !== keypressFirstPart) {\r\n            return false;\r\n        }\r\n        // TODO@chords\r\n        if (keypressChordPart && defaultKb.keypressParts[1] !== keypressChordPart) {\r\n            return false;\r\n        }\r\n        if (when) {\r\n            if (!defaultKb.when) {\r\n                return false;\r\n            }\r\n            if (!when.equals(defaultKb.when)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Looks for rules containing -command in `overrides` and removes them directly from `defaults`.\r\n     */\r\n    KeybindingResolver.combine = function (defaults, rawOverrides) {\r\n        defaults = defaults.slice(0);\r\n        var overrides = [];\r\n        for (var _i = 0, rawOverrides_1 = rawOverrides; _i < rawOverrides_1.length; _i++) {\r\n            var override = rawOverrides_1[_i];\r\n            if (!override.command || override.command.length === 0 || override.command.charAt(0) !== '-') {\r\n                overrides.push(override);\r\n                continue;\r\n            }\r\n            var command = override.command.substr(1);\r\n            // TODO@chords\r\n            var keypressFirstPart = override.keypressParts[0];\r\n            var keypressChordPart = override.keypressParts[1];\r\n            var when = override.when;\r\n            for (var j = defaults.length - 1; j >= 0; j--) {\r\n                if (this._isTargetedForRemoval(defaults[j], keypressFirstPart, keypressChordPart, command, when)) {\r\n                    defaults.splice(j, 1);\r\n                }\r\n            }\r\n        }\r\n        return defaults.concat(overrides);\r\n    };\r\n    KeybindingResolver.prototype._addKeyPress = function (keypress, item) {\r\n        var conflicts = this._map.get(keypress);\r\n        if (typeof conflicts === 'undefined') {\r\n            // There is no conflict so far\r\n            this._map.set(keypress, [item]);\r\n            this._addToLookupMap(item);\r\n            return;\r\n        }\r\n        for (var i = conflicts.length - 1; i >= 0; i--) {\r\n            var conflict = conflicts[i];\r\n            if (conflict.command === item.command) {\r\n                continue;\r\n            }\r\n            var conflictIsChord = (conflict.keypressParts.length > 1);\r\n            var itemIsChord = (item.keypressParts.length > 1);\r\n            // TODO@chords\r\n            if (conflictIsChord && itemIsChord && conflict.keypressParts[1] !== item.keypressParts[1]) {\r\n                // The conflict only shares the chord start with this command\r\n                continue;\r\n            }\r\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\r\n                // `item` completely overwrites `conflict`\r\n                // Remove conflict from the lookupMap\r\n                this._removeFromLookupMap(conflict);\r\n            }\r\n        }\r\n        conflicts.push(item);\r\n        this._addToLookupMap(item);\r\n    };\r\n    KeybindingResolver.prototype._addToLookupMap = function (item) {\r\n        if (!item.command) {\r\n            return;\r\n        }\r\n        var arr = this._lookupMap.get(item.command);\r\n        if (typeof arr === 'undefined') {\r\n            arr = [item];\r\n            this._lookupMap.set(item.command, arr);\r\n        }\r\n        else {\r\n            arr.push(item);\r\n        }\r\n    };\r\n    KeybindingResolver.prototype._removeFromLookupMap = function (item) {\r\n        if (!item.command) {\r\n            return;\r\n        }\r\n        var arr = this._lookupMap.get(item.command);\r\n        if (typeof arr === 'undefined') {\r\n            return;\r\n        }\r\n        for (var i = 0, len = arr.length; i < len; i++) {\r\n            if (arr[i] === item) {\r\n                arr.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns true if it is provable `a` implies `b`.\r\n     */\r\n    KeybindingResolver.whenIsEntirelyIncluded = function (a, b) {\r\n        if (!b) {\r\n            return true;\r\n        }\r\n        if (!a) {\r\n            return false;\r\n        }\r\n        return this._implies(a, b);\r\n    };\r\n    /**\r\n     * Returns true if it is provable `p` implies `q`.\r\n     */\r\n    KeybindingResolver._implies = function (p, q) {\r\n        var notP = p.negate();\r\n        var terminals = function (node) {\r\n            if (node instanceof ContextKeyOrExpr) {\r\n                return node.expr;\r\n            }\r\n            return [node];\r\n        };\r\n        var expr = terminals(notP).concat(terminals(q));\r\n        for (var i = 0; i < expr.length; i++) {\r\n            var a = expr[i];\r\n            var notA = a.negate();\r\n            for (var j = i + 1; j < expr.length; j++) {\r\n                var b = expr[j];\r\n                if (notA.equals(b)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    KeybindingResolver.prototype.getKeybindings = function () {\r\n        return this._keybindings;\r\n    };\r\n    KeybindingResolver.prototype.lookupPrimaryKeybinding = function (commandId) {\r\n        var items = this._lookupMap.get(commandId);\r\n        if (typeof items === 'undefined' || items.length === 0) {\r\n            return null;\r\n        }\r\n        return items[items.length - 1];\r\n    };\r\n    KeybindingResolver.prototype.resolve = function (context, currentChord, keypress) {\r\n        var lookupMap = null;\r\n        if (currentChord !== null) {\r\n            // Fetch all chord bindings for `currentChord`\r\n            var candidates = this._map.get(currentChord);\r\n            if (typeof candidates === 'undefined') {\r\n                // No chords starting with `currentChord`\r\n                return null;\r\n            }\r\n            lookupMap = [];\r\n            for (var i = 0, len = candidates.length; i < len; i++) {\r\n                var candidate = candidates[i];\r\n                // TODO@chords\r\n                if (candidate.keypressParts[1] === keypress) {\r\n                    lookupMap.push(candidate);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var candidates = this._map.get(keypress);\r\n            if (typeof candidates === 'undefined') {\r\n                // No bindings with `keypress`\r\n                return null;\r\n            }\r\n            lookupMap = candidates;\r\n        }\r\n        var result = this._findCommand(context, lookupMap);\r\n        if (!result) {\r\n            return null;\r\n        }\r\n        // TODO@chords\r\n        if (currentChord === null && result.keypressParts.length > 1 && result.keypressParts[1] !== null) {\r\n            return {\r\n                enterChord: true,\r\n                commandId: null,\r\n                commandArgs: null,\r\n                bubble: false\r\n            };\r\n        }\r\n        return {\r\n            enterChord: false,\r\n            commandId: result.command,\r\n            commandArgs: result.commandArgs,\r\n            bubble: result.bubble\r\n        };\r\n    };\r\n    KeybindingResolver.prototype._findCommand = function (context, matches) {\r\n        for (var i = matches.length - 1; i >= 0; i--) {\r\n            var k = matches[i];\r\n            if (!KeybindingResolver.contextMatchesRules(context, k.when)) {\r\n                continue;\r\n            }\r\n            return k;\r\n        }\r\n        return null;\r\n    };\r\n    KeybindingResolver.contextMatchesRules = function (context, rules) {\r\n        if (!rules) {\r\n            return true;\r\n        }\r\n        return rules.evaluate(context);\r\n    };\r\n    return KeybindingResolver;\r\n}());\r\nexport { KeybindingResolver };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { IntervalTimer } from '../../../base/common/async.js';\r\nimport { Emitter, Event } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nvar AbstractKeybindingService = /** @class */ (function (_super) {\r\n    __extends(AbstractKeybindingService, _super);\r\n    function AbstractKeybindingService(_contextKeyService, _commandService, _telemetryService, _notificationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._contextKeyService = _contextKeyService;\r\n        _this._commandService = _commandService;\r\n        _this._telemetryService = _telemetryService;\r\n        _this._notificationService = _notificationService;\r\n        _this._onDidUpdateKeybindings = _this._register(new Emitter());\r\n        _this._currentChord = null;\r\n        _this._currentChordChecker = new IntervalTimer();\r\n        _this._currentChordStatusMessage = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractKeybindingService.prototype, \"onDidUpdateKeybindings\", {\r\n        get: function () {\r\n            return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractKeybindingService.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    AbstractKeybindingService.prototype.getKeybindings = function () {\r\n        return this._getResolver().getKeybindings();\r\n    };\r\n    AbstractKeybindingService.prototype.lookupKeybinding = function (commandId) {\r\n        var result = this._getResolver().lookupPrimaryKeybinding(commandId);\r\n        if (!result) {\r\n            return undefined;\r\n        }\r\n        return result.resolvedKeybinding;\r\n    };\r\n    AbstractKeybindingService.prototype.softDispatch = function (e, target) {\r\n        var keybinding = this.resolveKeyboardEvent(e);\r\n        if (keybinding.isChord()) {\r\n            console.warn('Unexpected keyboard event mapped to a chord');\r\n            return null;\r\n        }\r\n        var firstPart = keybinding.getDispatchParts()[0];\r\n        if (firstPart === null) {\r\n            // cannot be dispatched, probably only modifier keys\r\n            return null;\r\n        }\r\n        var contextValue = this._contextKeyService.getContext(target);\r\n        var currentChord = this._currentChord ? this._currentChord.keypress : null;\r\n        return this._getResolver().resolve(contextValue, currentChord, firstPart);\r\n    };\r\n    AbstractKeybindingService.prototype._enterChordMode = function (firstPart, keypressLabel) {\r\n        var _this = this;\r\n        this._currentChord = {\r\n            keypress: firstPart,\r\n            label: keypressLabel\r\n        };\r\n        this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\r\n        var chordEnterTime = Date.now();\r\n        this._currentChordChecker.cancelAndSet(function () {\r\n            if (!_this._documentHasFocus()) {\r\n                // Focus has been lost => leave chord mode\r\n                _this._leaveChordMode();\r\n                return;\r\n            }\r\n            if (Date.now() - chordEnterTime > 5000) {\r\n                // 5 seconds elapsed => leave chord mode\r\n                _this._leaveChordMode();\r\n            }\r\n        }, 500);\r\n    };\r\n    AbstractKeybindingService.prototype._leaveChordMode = function () {\r\n        if (this._currentChordStatusMessage) {\r\n            this._currentChordStatusMessage.dispose();\r\n            this._currentChordStatusMessage = null;\r\n        }\r\n        this._currentChordChecker.cancel();\r\n        this._currentChord = null;\r\n    };\r\n    AbstractKeybindingService.prototype._dispatch = function (e, target) {\r\n        return this._doDispatch(this.resolveKeyboardEvent(e), target);\r\n    };\r\n    AbstractKeybindingService.prototype._doDispatch = function (keybinding, target) {\r\n        var _this = this;\r\n        var shouldPreventDefault = false;\r\n        if (keybinding.isChord()) {\r\n            console.warn('Unexpected keyboard event mapped to a chord');\r\n            return false;\r\n        }\r\n        var firstPart = keybinding.getDispatchParts()[0];\r\n        if (firstPart === null) {\r\n            // cannot be dispatched, probably only modifier keys\r\n            return shouldPreventDefault;\r\n        }\r\n        var contextValue = this._contextKeyService.getContext(target);\r\n        var currentChord = this._currentChord ? this._currentChord.keypress : null;\r\n        var keypressLabel = keybinding.getLabel();\r\n        var resolveResult = this._getResolver().resolve(contextValue, currentChord, firstPart);\r\n        if (resolveResult && resolveResult.enterChord) {\r\n            shouldPreventDefault = true;\r\n            this._enterChordMode(firstPart, keypressLabel);\r\n            return shouldPreventDefault;\r\n        }\r\n        if (this._currentChord) {\r\n            if (!resolveResult || !resolveResult.commandId) {\r\n                this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", this._currentChord.label, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\r\n                shouldPreventDefault = true;\r\n            }\r\n        }\r\n        this._leaveChordMode();\r\n        if (resolveResult && resolveResult.commandId) {\r\n            if (!resolveResult.bubble) {\r\n                shouldPreventDefault = true;\r\n            }\r\n            if (typeof resolveResult.commandArgs === 'undefined') {\r\n                this._commandService.executeCommand(resolveResult.commandId).then(undefined, function (err) { return _this._notificationService.warn(err); });\r\n            }\r\n            else {\r\n                this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, function (err) { return _this._notificationService.warn(err); });\r\n            }\r\n            this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding' });\r\n        }\r\n        return shouldPreventDefault;\r\n    };\r\n    AbstractKeybindingService.prototype.mightProducePrintableCharacter = function (event) {\r\n        if (event.ctrlKey || event.metaKey) {\r\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\r\n            return false;\r\n        }\r\n        // weak check for certain ranges. this is properly implemented in a subclass\r\n        // with access to the KeyboardMapperFactory.\r\n        if ((event.keyCode >= 31 /* KEY_A */ && event.keyCode <= 56 /* KEY_Z */)\r\n            || (event.keyCode >= 21 /* KEY_0 */ && event.keyCode <= 30 /* KEY_9 */)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return AbstractKeybindingService;\r\n}(Disposable));\r\nexport { AbstractKeybindingService };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var IKeybindingService = createDecorator('keybindingService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as Types from '../../../base/common/types.js';\r\nimport * as Assert from '../../../base/common/assert.js';\r\nvar RegistryImpl = /** @class */ (function () {\r\n    function RegistryImpl() {\r\n        this.data = new Map();\r\n    }\r\n    RegistryImpl.prototype.add = function (id, data) {\r\n        Assert.ok(Types.isString(id));\r\n        Assert.ok(Types.isObject(data));\r\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\r\n        this.data.set(id, data);\r\n    };\r\n    RegistryImpl.prototype.as = function (id) {\r\n        return this.data.get(id) || null;\r\n    };\r\n    return RegistryImpl;\r\n}());\r\nexport var Registry = new RegistryImpl();\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar _a;\r\nimport { createStyleSheet } from '../../../base/browser/dom.js';\r\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent } from '../../../base/browser/ui/list/listWidget.js';\r\nimport { Disposable, dispose, toDisposable, DisposableStore, combinedDisposable } from '../../../base/common/lifecycle.js';\r\nimport { localize } from '../../../nls.js';\r\nimport { IConfigurationService, getMigratedSettingValue } from '../../configuration/common/configuration.js';\r\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\r\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\r\nimport { Registry } from '../../registry/common/platform.js';\r\nimport { attachListStyler } from '../../theme/common/styler.js';\r\nimport { IThemeService } from '../../theme/common/themeService.js';\r\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\r\nimport { ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\r\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\r\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\r\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\r\nexport var IListService = createDecorator('listService');\r\nvar ListService = /** @class */ (function () {\r\n    function ListService(_themeService) {\r\n        this._themeService = _themeService;\r\n        this.disposables = new DisposableStore();\r\n        this.lists = [];\r\n        this._lastFocusedWidget = undefined;\r\n        this._hasCreatedStyleController = false;\r\n    }\r\n    Object.defineProperty(ListService.prototype, \"lastFocusedList\", {\r\n        get: function () {\r\n            return this._lastFocusedWidget;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ListService.prototype.register = function (widget, extraContextKeys) {\r\n        var _this = this;\r\n        if (!this._hasCreatedStyleController) {\r\n            this._hasCreatedStyleController = true;\r\n            // create a shared default tree style sheet for performance reasons\r\n            var styleController = new DefaultStyleController(createStyleSheet(), '');\r\n            this.disposables.add(attachListStyler(styleController, this._themeService));\r\n        }\r\n        if (this.lists.some(function (l) { return l.widget === widget; })) {\r\n            throw new Error('Cannot register the same widget multiple times');\r\n        }\r\n        // Keep in our lists list\r\n        var registeredList = { widget: widget, extraContextKeys: extraContextKeys };\r\n        this.lists.push(registeredList);\r\n        // Check for currently being focused\r\n        if (widget.getHTMLElement() === document.activeElement) {\r\n            this._lastFocusedWidget = widget;\r\n        }\r\n        return combinedDisposable(widget.onDidFocus(function () { return _this._lastFocusedWidget = widget; }), toDisposable(function () { return _this.lists.splice(_this.lists.indexOf(registeredList), 1); }), widget.onDidDispose(function () {\r\n            _this.lists = _this.lists.filter(function (l) { return l !== registeredList; });\r\n            if (_this._lastFocusedWidget === widget) {\r\n                _this._lastFocusedWidget = undefined;\r\n            }\r\n        }));\r\n    };\r\n    ListService.prototype.dispose = function () {\r\n        this.disposables.dispose();\r\n    };\r\n    ListService = __decorate([\r\n        __param(0, IThemeService)\r\n    ], ListService);\r\n    return ListService;\r\n}());\r\nexport { ListService };\r\nvar RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\r\nexport var WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\r\nexport var WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\r\nexport var WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\r\nexport var WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\r\nexport var WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\r\nexport var WorkbenchListSupportsKeyboardNavigation = new RawContextKey('listSupportsKeyboardNavigation', true);\r\nexport var WorkbenchListAutomaticKeyboardNavigationKey = 'listAutomaticKeyboardNavigation';\r\nexport var WorkbenchListAutomaticKeyboardNavigation = new RawContextKey(WorkbenchListAutomaticKeyboardNavigationKey, true);\r\nexport var didBindWorkbenchListAutomaticKeyboardNavigation = false;\r\nfunction createScopedContextKeyService(contextKeyService, widget) {\r\n    var result = contextKeyService.createScoped(widget.getHTMLElement());\r\n    RawWorkbenchListFocusContextKey.bindTo(result);\r\n    return result;\r\n}\r\nexport var multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\r\nexport var openModeSettingKey = 'workbench.list.openMode';\r\nexport var horizontalScrollingKey = 'workbench.list.horizontalScrolling';\r\nexport var keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\r\nexport var automaticKeyboardNavigationSettingKey = 'workbench.list.automaticKeyboardNavigation';\r\nvar treeIndentKey = 'workbench.tree.indent';\r\nvar treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\r\nfunction getHorizontalScrollingSetting(configurationService) {\r\n    return getMigratedSettingValue(configurationService, horizontalScrollingKey, 'workbench.tree.horizontalScrolling');\r\n}\r\nfunction useAltAsMultipleSelectionModifier(configurationService) {\r\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\r\n}\r\nfunction useSingleClickToOpen(configurationService) {\r\n    return configurationService.getValue(openModeSettingKey) !== 'doubleClick';\r\n}\r\nvar MultipleSelectionController = /** @class */ (function (_super) {\r\n    __extends(MultipleSelectionController, _super);\r\n    function MultipleSelectionController(configurationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.configurationService = configurationService;\r\n        _this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\r\n        _this.registerListeners();\r\n        return _this;\r\n    }\r\n    MultipleSelectionController.prototype.registerListeners = function () {\r\n        var _this = this;\r\n        this._register(this.configurationService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\r\n                _this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(_this.configurationService);\r\n            }\r\n        }));\r\n    };\r\n    MultipleSelectionController.prototype.isSelectionSingleChangeEvent = function (event) {\r\n        if (this.useAltAsMultipleSelectionModifier) {\r\n            return event.browserEvent.altKey;\r\n        }\r\n        return isSelectionSingleChangeEvent(event);\r\n    };\r\n    MultipleSelectionController.prototype.isSelectionRangeChangeEvent = function (event) {\r\n        return isSelectionRangeChangeEvent(event);\r\n    };\r\n    return MultipleSelectionController;\r\n}(Disposable));\r\nvar WorkbenchOpenController = /** @class */ (function (_super) {\r\n    __extends(WorkbenchOpenController, _super);\r\n    function WorkbenchOpenController(configurationService, existingOpenController) {\r\n        var _this = _super.call(this) || this;\r\n        _this.configurationService = configurationService;\r\n        _this.existingOpenController = existingOpenController;\r\n        _this.openOnSingleClick = useSingleClickToOpen(configurationService);\r\n        _this.registerListeners();\r\n        return _this;\r\n    }\r\n    WorkbenchOpenController.prototype.registerListeners = function () {\r\n        var _this = this;\r\n        this._register(this.configurationService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration(openModeSettingKey)) {\r\n                _this.openOnSingleClick = useSingleClickToOpen(_this.configurationService);\r\n            }\r\n        }));\r\n    };\r\n    WorkbenchOpenController.prototype.shouldOpen = function (event) {\r\n        if (event instanceof MouseEvent) {\r\n            var isLeftButton = event.button === 0;\r\n            var isDoubleClick = event.detail === 2;\r\n            if (isLeftButton && !this.openOnSingleClick && !isDoubleClick) {\r\n                return false;\r\n            }\r\n            if (isLeftButton /* left mouse button */ || event.button === 1 /* middle mouse button */) {\r\n                return this.existingOpenController ? this.existingOpenController.shouldOpen(event) : true;\r\n            }\r\n            return false;\r\n        }\r\n        return this.existingOpenController ? this.existingOpenController.shouldOpen(event) : true;\r\n    };\r\n    return WorkbenchOpenController;\r\n}(Disposable));\r\nfunction toWorkbenchListOptions(options, configurationService, keybindingService) {\r\n    var disposables = new DisposableStore();\r\n    var result = __assign({}, options);\r\n    if (options.multipleSelectionSupport !== false && !options.multipleSelectionController) {\r\n        var multipleSelectionController = new MultipleSelectionController(configurationService);\r\n        result.multipleSelectionController = multipleSelectionController;\r\n        disposables.add(multipleSelectionController);\r\n    }\r\n    var openController = new WorkbenchOpenController(configurationService, options.openController);\r\n    result.openController = openController;\r\n    disposables.add(openController);\r\n    result.keyboardNavigationDelegate = {\r\n        mightProducePrintableCharacter: function (e) {\r\n            return keybindingService.mightProducePrintableCharacter(e);\r\n        }\r\n    };\r\n    return [result, disposables];\r\n}\r\nfunction createKeyboardNavigationEventFilter(container, keybindingService) {\r\n    var inChord = false;\r\n    return function (event) {\r\n        if (inChord) {\r\n            inChord = false;\r\n            return false;\r\n        }\r\n        var result = keybindingService.softDispatch(event, container);\r\n        if (result && result.enterChord) {\r\n            inChord = true;\r\n            return false;\r\n        }\r\n        inChord = false;\r\n        return true;\r\n    };\r\n}\r\nvar WorkbenchObjectTree = /** @class */ (function (_super) {\r\n    __extends(WorkbenchObjectTree, _super);\r\n    function WorkbenchObjectTree(user, container, delegate, renderers, options, contextKeyService, listService, themeService, configurationService, keybindingService, accessibilityService) {\r\n        var _this = this;\r\n        var _a = workbenchTreeDataPreamble(container, options, contextKeyService, configurationService, keybindingService, accessibilityService), treeOptions = _a.options, getAutomaticKeyboardNavigation = _a.getAutomaticKeyboardNavigation, disposable = _a.disposable;\r\n        _this = _super.call(this, user, container, delegate, renderers, treeOptions) || this;\r\n        _this.disposables.add(disposable);\r\n        _this.internals = new WorkbenchTreeInternals(_this, treeOptions, getAutomaticKeyboardNavigation, options.overrideStyles, contextKeyService, listService, themeService, configurationService, accessibilityService);\r\n        _this.disposables.add(_this.internals);\r\n        return _this;\r\n    }\r\n    WorkbenchObjectTree = __decorate([\r\n        __param(5, IContextKeyService),\r\n        __param(6, IListService),\r\n        __param(7, IThemeService),\r\n        __param(8, IConfigurationService),\r\n        __param(9, IKeybindingService),\r\n        __param(10, IAccessibilityService)\r\n    ], WorkbenchObjectTree);\r\n    return WorkbenchObjectTree;\r\n}(ObjectTree));\r\nexport { WorkbenchObjectTree };\r\nvar WorkbenchDataTree = /** @class */ (function (_super) {\r\n    __extends(WorkbenchDataTree, _super);\r\n    function WorkbenchDataTree(user, container, delegate, renderers, dataSource, options, contextKeyService, listService, themeService, configurationService, keybindingService, accessibilityService) {\r\n        var _this = this;\r\n        var _a = workbenchTreeDataPreamble(container, options, contextKeyService, configurationService, keybindingService, accessibilityService), treeOptions = _a.options, getAutomaticKeyboardNavigation = _a.getAutomaticKeyboardNavigation, disposable = _a.disposable;\r\n        _this = _super.call(this, user, container, delegate, renderers, dataSource, treeOptions) || this;\r\n        _this.disposables.add(disposable);\r\n        _this.internals = new WorkbenchTreeInternals(_this, treeOptions, getAutomaticKeyboardNavigation, options.overrideStyles, contextKeyService, listService, themeService, configurationService, accessibilityService);\r\n        _this.disposables.add(_this.internals);\r\n        return _this;\r\n    }\r\n    WorkbenchDataTree.prototype.updateOptions = function (options) {\r\n        if (options === void 0) { options = {}; }\r\n        _super.prototype.updateOptions.call(this, options);\r\n        if (options.overrideStyles) {\r\n            this.internals.updateStyleOverrides(options.overrideStyles);\r\n        }\r\n    };\r\n    WorkbenchDataTree = __decorate([\r\n        __param(6, IContextKeyService),\r\n        __param(7, IListService),\r\n        __param(8, IThemeService),\r\n        __param(9, IConfigurationService),\r\n        __param(10, IKeybindingService),\r\n        __param(11, IAccessibilityService)\r\n    ], WorkbenchDataTree);\r\n    return WorkbenchDataTree;\r\n}(DataTree));\r\nexport { WorkbenchDataTree };\r\nvar WorkbenchAsyncDataTree = /** @class */ (function (_super) {\r\n    __extends(WorkbenchAsyncDataTree, _super);\r\n    function WorkbenchAsyncDataTree(user, container, delegate, renderers, dataSource, options, contextKeyService, listService, themeService, configurationService, keybindingService, accessibilityService) {\r\n        var _this = this;\r\n        var _a = workbenchTreeDataPreamble(container, options, contextKeyService, configurationService, keybindingService, accessibilityService), treeOptions = _a.options, getAutomaticKeyboardNavigation = _a.getAutomaticKeyboardNavigation, disposable = _a.disposable;\r\n        _this = _super.call(this, user, container, delegate, renderers, dataSource, treeOptions) || this;\r\n        _this.disposables.add(disposable);\r\n        _this.internals = new WorkbenchTreeInternals(_this, treeOptions, getAutomaticKeyboardNavigation, options.overrideStyles, contextKeyService, listService, themeService, configurationService, accessibilityService);\r\n        _this.disposables.add(_this.internals);\r\n        return _this;\r\n    }\r\n    WorkbenchAsyncDataTree.prototype.updateOptions = function (options) {\r\n        if (options === void 0) { options = {}; }\r\n        _super.prototype.updateOptions.call(this, options);\r\n        if (options.overrideStyles) {\r\n            this.internals.updateStyleOverrides(options.overrideStyles);\r\n        }\r\n    };\r\n    WorkbenchAsyncDataTree = __decorate([\r\n        __param(6, IContextKeyService),\r\n        __param(7, IListService),\r\n        __param(8, IThemeService),\r\n        __param(9, IConfigurationService),\r\n        __param(10, IKeybindingService),\r\n        __param(11, IAccessibilityService)\r\n    ], WorkbenchAsyncDataTree);\r\n    return WorkbenchAsyncDataTree;\r\n}(AsyncDataTree));\r\nexport { WorkbenchAsyncDataTree };\r\nvar WorkbenchCompressibleAsyncDataTree = /** @class */ (function (_super) {\r\n    __extends(WorkbenchCompressibleAsyncDataTree, _super);\r\n    function WorkbenchCompressibleAsyncDataTree(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, contextKeyService, listService, themeService, configurationService, keybindingService, accessibilityService) {\r\n        var _this = this;\r\n        var _a = workbenchTreeDataPreamble(container, options, contextKeyService, configurationService, keybindingService, accessibilityService), treeOptions = _a.options, getAutomaticKeyboardNavigation = _a.getAutomaticKeyboardNavigation, disposable = _a.disposable;\r\n        _this = _super.call(this, user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions) || this;\r\n        _this.disposables.add(disposable);\r\n        _this.internals = new WorkbenchTreeInternals(_this, treeOptions, getAutomaticKeyboardNavigation, options.overrideStyles, contextKeyService, listService, themeService, configurationService, accessibilityService);\r\n        _this.disposables.add(_this.internals);\r\n        return _this;\r\n    }\r\n    WorkbenchCompressibleAsyncDataTree = __decorate([\r\n        __param(7, IContextKeyService),\r\n        __param(8, IListService),\r\n        __param(9, IThemeService),\r\n        __param(10, IConfigurationService),\r\n        __param(11, IKeybindingService),\r\n        __param(12, IAccessibilityService)\r\n    ], WorkbenchCompressibleAsyncDataTree);\r\n    return WorkbenchCompressibleAsyncDataTree;\r\n}(CompressibleAsyncDataTree));\r\nexport { WorkbenchCompressibleAsyncDataTree };\r\nfunction workbenchTreeDataPreamble(container, options, contextKeyService, configurationService, keybindingService, accessibilityService) {\r\n    WorkbenchListSupportsKeyboardNavigation.bindTo(contextKeyService);\r\n    if (!didBindWorkbenchListAutomaticKeyboardNavigation) {\r\n        WorkbenchListAutomaticKeyboardNavigation.bindTo(contextKeyService);\r\n        didBindWorkbenchListAutomaticKeyboardNavigation = true;\r\n    }\r\n    var getAutomaticKeyboardNavigation = function () {\r\n        // give priority to the context key value to disable this completely\r\n        var automaticKeyboardNavigation = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationKey);\r\n        if (automaticKeyboardNavigation) {\r\n            automaticKeyboardNavigation = configurationService.getValue(automaticKeyboardNavigationSettingKey);\r\n        }\r\n        return automaticKeyboardNavigation;\r\n    };\r\n    var accessibilityOn = accessibilityService.isScreenReaderOptimized();\r\n    var keyboardNavigation = accessibilityOn ? 'simple' : configurationService.getValue(keyboardNavigationSettingKey);\r\n    var horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : getHorizontalScrollingSetting(configurationService);\r\n    var openOnSingleClick = useSingleClickToOpen(configurationService);\r\n    var _a = toWorkbenchListOptions(options, configurationService, keybindingService), workbenchListOptions = _a[0], disposable = _a[1];\r\n    var additionalScrollHeight = options.additionalScrollHeight;\r\n    return {\r\n        getAutomaticKeyboardNavigation: getAutomaticKeyboardNavigation,\r\n        disposable: disposable,\r\n        options: __assign(__assign({ \r\n            // ...options, // TODO@Joao why is this not splatted here?\r\n            keyboardSupport: false }, workbenchListOptions), { indent: configurationService.getValue(treeIndentKey), renderIndentGuides: configurationService.getValue(treeRenderIndentGuidesKey), automaticKeyboardNavigation: getAutomaticKeyboardNavigation(), simpleKeyboardNavigation: keyboardNavigation === 'simple', filterOnType: keyboardNavigation === 'filter', horizontalScrolling: horizontalScrolling,\r\n            openOnSingleClick: openOnSingleClick, keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(container, keybindingService), additionalScrollHeight: additionalScrollHeight, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements })\r\n    };\r\n}\r\nvar WorkbenchTreeInternals = /** @class */ (function () {\r\n    function WorkbenchTreeInternals(tree, options, getAutomaticKeyboardNavigation, overrideStyles, contextKeyService, listService, themeService, configurationService, accessibilityService) {\r\n        var _this = this;\r\n        this.tree = tree;\r\n        this.themeService = themeService;\r\n        this.disposables = [];\r\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\r\n        var listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\r\n        listSupportsMultiSelect.set(!(options.multipleSelectionSupport === false));\r\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\r\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\r\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\r\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\r\n        var interestingContextKeys = new Set();\r\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationKey);\r\n        var updateKeyboardNavigation = function () {\r\n            var accessibilityOn = accessibilityService.isScreenReaderOptimized();\r\n            var keyboardNavigation = accessibilityOn ? 'simple' : configurationService.getValue(keyboardNavigationSettingKey);\r\n            tree.updateOptions({\r\n                simpleKeyboardNavigation: keyboardNavigation === 'simple',\r\n                filterOnType: keyboardNavigation === 'filter'\r\n            });\r\n        };\r\n        this.updateStyleOverrides(overrideStyles);\r\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(function () {\r\n            var selection = tree.getSelection();\r\n            var focus = tree.getFocus();\r\n            _this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\r\n            _this.hasMultiSelection.set(selection.length > 1);\r\n            _this.hasDoubleSelection.set(selection.length === 2);\r\n        }), tree.onDidChangeFocus(function () {\r\n            var selection = tree.getSelection();\r\n            var focus = tree.getFocus();\r\n            _this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\r\n        }), configurationService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration(openModeSettingKey)) {\r\n                tree.updateOptions({ openOnSingleClick: useSingleClickToOpen(configurationService) });\r\n            }\r\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\r\n                _this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\r\n            }\r\n            if (e.affectsConfiguration(treeIndentKey)) {\r\n                var indent = configurationService.getValue(treeIndentKey);\r\n                tree.updateOptions({ indent: indent });\r\n            }\r\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey)) {\r\n                var renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\r\n                tree.updateOptions({ renderIndentGuides: renderIndentGuides });\r\n            }\r\n            if (e.affectsConfiguration(keyboardNavigationSettingKey)) {\r\n                updateKeyboardNavigation();\r\n            }\r\n            if (e.affectsConfiguration(automaticKeyboardNavigationSettingKey)) {\r\n                tree.updateOptions({ automaticKeyboardNavigation: getAutomaticKeyboardNavigation() });\r\n            }\r\n        }), this.contextKeyService.onDidChangeContext(function (e) {\r\n            if (e.affectsSome(interestingContextKeys)) {\r\n                tree.updateOptions({ automaticKeyboardNavigation: getAutomaticKeyboardNavigation() });\r\n            }\r\n        }), accessibilityService.onDidChangeScreenReaderOptimized(function () { return updateKeyboardNavigation(); }));\r\n    }\r\n    WorkbenchTreeInternals.prototype.updateStyleOverrides = function (overrideStyles) {\r\n        dispose(this.styler);\r\n        this.styler = overrideStyles ? attachListStyler(this.tree, this.themeService, overrideStyles) : Disposable.None;\r\n    };\r\n    WorkbenchTreeInternals.prototype.dispose = function () {\r\n        this.disposables = dispose(this.disposables);\r\n        this.styler = dispose(this.styler);\r\n    };\r\n    WorkbenchTreeInternals = __decorate([\r\n        __param(4, IContextKeyService),\r\n        __param(5, IListService),\r\n        __param(6, IThemeService),\r\n        __param(7, IConfigurationService),\r\n        __param(8, IAccessibilityService)\r\n    ], WorkbenchTreeInternals);\r\n    return WorkbenchTreeInternals;\r\n}());\r\nvar configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\r\nconfigurationRegistry.registerConfiguration({\r\n    'id': 'workbench',\r\n    'order': 7,\r\n    'title': localize('workbenchConfigurationTitle', \"Workbench\"),\r\n    'type': 'object',\r\n    'properties': (_a = {},\r\n        _a[multiSelectModifierSettingKey] = {\r\n            'type': 'string',\r\n            'enum': ['ctrlCmd', 'alt'],\r\n            'enumDescriptions': [\r\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\r\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\r\n            ],\r\n            'default': 'ctrlCmd',\r\n            'description': localize({\r\n                key: 'multiSelectModifier',\r\n                comment: [\r\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\r\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\r\n                ]\r\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\r\n        },\r\n        _a[openModeSettingKey] = {\r\n            'type': 'string',\r\n            'enum': ['singleClick', 'doubleClick'],\r\n            'default': 'singleClick',\r\n            'description': localize({\r\n                key: 'openModeModifier',\r\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\r\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. \")\r\n        },\r\n        _a[horizontalScrollingKey] = {\r\n            'type': 'boolean',\r\n            'default': false,\r\n            'description': localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench.\")\r\n        },\r\n        _a['workbench.tree.horizontalScrolling'] = {\r\n            'type': 'boolean',\r\n            'default': false,\r\n            'description': localize('tree horizontalScrolling setting', \"Controls whether trees support horizontal scrolling in the workbench.\"),\r\n            'deprecationMessage': localize('deprecated', \"This setting is deprecated, please use '{0}' instead.\", horizontalScrollingKey)\r\n        },\r\n        _a[treeIndentKey] = {\r\n            'type': 'number',\r\n            'default': 8,\r\n            minimum: 0,\r\n            maximum: 40,\r\n            'description': localize('tree indent setting', \"Controls tree indentation in pixels.\")\r\n        },\r\n        _a[treeRenderIndentGuidesKey] = {\r\n            type: 'string',\r\n            enum: ['none', 'onHover', 'always'],\r\n            default: 'onHover',\r\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\r\n        },\r\n        _a[keyboardNavigationSettingKey] = {\r\n            'type': 'string',\r\n            'enum': ['simple', 'highlight', 'filter'],\r\n            'enumDescriptions': [\r\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\r\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\r\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\r\n            ],\r\n            'default': 'highlight',\r\n            'description': localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\")\r\n        },\r\n        _a[automaticKeyboardNavigationSettingKey] = {\r\n            'type': 'boolean',\r\n            'default': true,\r\n            markdownDescription: localize('automatic keyboard navigation setting', \"Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.\")\r\n        },\r\n        _a)\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createKeybinding } from '../../../base/common/keyCodes.js';\r\nimport { OS } from '../../../base/common/platform.js';\r\nimport { CommandsRegistry } from '../../commands/common/commands.js';\r\nimport { Registry } from '../../registry/common/platform.js';\r\nvar KeybindingsRegistryImpl = /** @class */ (function () {\r\n    function KeybindingsRegistryImpl() {\r\n        this._coreKeybindings = [];\r\n        this._extensionKeybindings = [];\r\n        this._cachedMergedKeybindings = null;\r\n    }\r\n    /**\r\n     * Take current platform into account and reduce to primary & secondary.\r\n     */\r\n    KeybindingsRegistryImpl.bindToCurrentPlatform = function (kb) {\r\n        if (OS === 1 /* Windows */) {\r\n            if (kb && kb.win) {\r\n                return kb.win;\r\n            }\r\n        }\r\n        else if (OS === 2 /* Macintosh */) {\r\n            if (kb && kb.mac) {\r\n                return kb.mac;\r\n            }\r\n        }\r\n        else {\r\n            if (kb && kb.linux) {\r\n                return kb.linux;\r\n            }\r\n        }\r\n        return kb;\r\n    };\r\n    KeybindingsRegistryImpl.prototype.registerKeybindingRule = function (rule) {\r\n        var actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\r\n        if (actualKb && actualKb.primary) {\r\n            var kk = createKeybinding(actualKb.primary, OS);\r\n            if (kk) {\r\n                this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when);\r\n            }\r\n        }\r\n        if (actualKb && Array.isArray(actualKb.secondary)) {\r\n            for (var i = 0, len = actualKb.secondary.length; i < len; i++) {\r\n                var k = actualKb.secondary[i];\r\n                var kk = createKeybinding(k, OS);\r\n                if (kk) {\r\n                    this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    KeybindingsRegistryImpl.prototype.registerCommandAndKeybindingRule = function (desc) {\r\n        this.registerKeybindingRule(desc);\r\n        CommandsRegistry.registerCommand(desc);\r\n    };\r\n    KeybindingsRegistryImpl._mightProduceChar = function (keyCode) {\r\n        if (keyCode >= 21 /* KEY_0 */ && keyCode <= 30 /* KEY_9 */) {\r\n            return true;\r\n        }\r\n        if (keyCode >= 31 /* KEY_A */ && keyCode <= 56 /* KEY_Z */) {\r\n            return true;\r\n        }\r\n        return (keyCode === 80 /* US_SEMICOLON */\r\n            || keyCode === 81 /* US_EQUAL */\r\n            || keyCode === 82 /* US_COMMA */\r\n            || keyCode === 83 /* US_MINUS */\r\n            || keyCode === 84 /* US_DOT */\r\n            || keyCode === 85 /* US_SLASH */\r\n            || keyCode === 86 /* US_BACKTICK */\r\n            || keyCode === 110 /* ABNT_C1 */\r\n            || keyCode === 111 /* ABNT_C2 */\r\n            || keyCode === 87 /* US_OPEN_SQUARE_BRACKET */\r\n            || keyCode === 88 /* US_BACKSLASH */\r\n            || keyCode === 89 /* US_CLOSE_SQUARE_BRACKET */\r\n            || keyCode === 90 /* US_QUOTE */\r\n            || keyCode === 91 /* OEM_8 */\r\n            || keyCode === 92 /* OEM_102 */);\r\n    };\r\n    KeybindingsRegistryImpl.prototype._assertNoCtrlAlt = function (keybinding, commandId) {\r\n        if (keybinding.ctrlKey && keybinding.altKey && !keybinding.metaKey) {\r\n            if (KeybindingsRegistryImpl._mightProduceChar(keybinding.keyCode)) {\r\n                console.warn('Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ', keybinding, ' for ', commandId);\r\n            }\r\n        }\r\n    };\r\n    KeybindingsRegistryImpl.prototype._registerDefaultKeybinding = function (keybinding, commandId, commandArgs, weight1, weight2, when) {\r\n        if (OS === 1 /* Windows */) {\r\n            this._assertNoCtrlAlt(keybinding.parts[0], commandId);\r\n        }\r\n        this._coreKeybindings.push({\r\n            keybinding: keybinding,\r\n            command: commandId,\r\n            commandArgs: commandArgs,\r\n            when: when,\r\n            weight1: weight1,\r\n            weight2: weight2\r\n        });\r\n        this._cachedMergedKeybindings = null;\r\n    };\r\n    KeybindingsRegistryImpl.prototype.getDefaultKeybindings = function () {\r\n        if (!this._cachedMergedKeybindings) {\r\n            this._cachedMergedKeybindings = [].concat(this._coreKeybindings).concat(this._extensionKeybindings);\r\n            this._cachedMergedKeybindings.sort(sorter);\r\n        }\r\n        return this._cachedMergedKeybindings.slice(0);\r\n    };\r\n    return KeybindingsRegistryImpl;\r\n}());\r\nexport var KeybindingsRegistry = new KeybindingsRegistryImpl();\r\n// Define extension point ids\r\nexport var Extensions = {\r\n    EditorModes: 'platform.keybindingsRegistry'\r\n};\r\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\r\nfunction sorter(a, b) {\r\n    if (a.weight1 !== b.weight1) {\r\n        return a.weight1 - b.weight1;\r\n    }\r\n    if (a.command < b.command) {\r\n        return -1;\r\n    }\r\n    if (a.command > b.command) {\r\n        return 1;\r\n    }\r\n    return a.weight2 - b.weight2;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { inputBackground, inputForeground, inputBorder, foreground, editorBackground, contrastBorder, listFocusBackground, listFocusForeground, listActiveSelectionBackground, listActiveSelectionForeground, listInactiveSelectionForeground, listInactiveSelectionBackground, listInactiveFocusBackground, listHoverBackground, listHoverForeground, listDropBackground, pickerGroupBorder, pickerGroupForeground, widgetShadow, inputValidationInfoBorder, inputValidationInfoBackground, inputValidationWarningBorder, inputValidationWarningBackground, inputValidationErrorBorder, inputValidationErrorBackground, activeContrastBorder, badgeBackground, badgeForeground, progressBarBackground, inputValidationInfoForeground, inputValidationWarningForeground, inputValidationErrorForeground, menuForeground, menuBackground, menuSelectionForeground, menuSelectionBackground, menuSelectionBorder, menuBorder, menuSeparatorBackground, darken, listFilterWidgetOutline, listFilterWidgetNoMatchesOutline, listFilterWidgetBackground, treeIndentGuidesStroke, resolveColorValue } from './colorRegistry.js';\r\nexport function computeStyles(theme, styleMap) {\r\n    var styles = Object.create(null);\r\n    for (var key in styleMap) {\r\n        var value = styleMap[key];\r\n        if (value) {\r\n            styles[key] = resolveColorValue(value, theme);\r\n        }\r\n    }\r\n    return styles;\r\n}\r\nexport function attachStyler(themeService, styleMap, widgetOrCallback) {\r\n    function applyStyles(theme) {\r\n        var styles = computeStyles(themeService.getTheme(), styleMap);\r\n        if (typeof widgetOrCallback === 'function') {\r\n            widgetOrCallback(styles);\r\n        }\r\n        else {\r\n            widgetOrCallback.style(styles);\r\n        }\r\n    }\r\n    applyStyles(themeService.getTheme());\r\n    return themeService.onThemeChange(applyStyles);\r\n}\r\nexport function attachBadgeStyler(widget, themeService, style) {\r\n    return attachStyler(themeService, {\r\n        badgeBackground: (style && style.badgeBackground) || badgeBackground,\r\n        badgeForeground: (style && style.badgeForeground) || badgeForeground,\r\n        badgeBorder: contrastBorder\r\n    }, widget);\r\n}\r\nexport function attachQuickOpenStyler(widget, themeService, style) {\r\n    return attachStyler(themeService, {\r\n        foreground: (style && style.foreground) || foreground,\r\n        background: (style && style.background) || editorBackground,\r\n        borderColor: style && style.borderColor || contrastBorder,\r\n        widgetShadow: style && style.widgetShadow || widgetShadow,\r\n        progressBarBackground: style && style.progressBarBackground || progressBarBackground,\r\n        pickerGroupForeground: style && style.pickerGroupForeground || pickerGroupForeground,\r\n        pickerGroupBorder: style && style.pickerGroupBorder || pickerGroupBorder,\r\n        inputBackground: (style && style.inputBackground) || inputBackground,\r\n        inputForeground: (style && style.inputForeground) || inputForeground,\r\n        inputBorder: (style && style.inputBorder) || inputBorder,\r\n        inputValidationInfoBorder: (style && style.inputValidationInfoBorder) || inputValidationInfoBorder,\r\n        inputValidationInfoBackground: (style && style.inputValidationInfoBackground) || inputValidationInfoBackground,\r\n        inputValidationInfoForeground: (style && style.inputValidationInfoForeground) || inputValidationInfoForeground,\r\n        inputValidationWarningBorder: (style && style.inputValidationWarningBorder) || inputValidationWarningBorder,\r\n        inputValidationWarningBackground: (style && style.inputValidationWarningBackground) || inputValidationWarningBackground,\r\n        inputValidationWarningForeground: (style && style.inputValidationWarningForeground) || inputValidationWarningForeground,\r\n        inputValidationErrorBorder: (style && style.inputValidationErrorBorder) || inputValidationErrorBorder,\r\n        inputValidationErrorBackground: (style && style.inputValidationErrorBackground) || inputValidationErrorBackground,\r\n        inputValidationErrorForeground: (style && style.inputValidationErrorForeground) || inputValidationErrorForeground,\r\n        listFocusBackground: (style && style.listFocusBackground) || listFocusBackground,\r\n        listFocusForeground: (style && style.listFocusForeground) || listFocusForeground,\r\n        listActiveSelectionBackground: (style && style.listActiveSelectionBackground) || darken(listActiveSelectionBackground, 0.1),\r\n        listActiveSelectionForeground: (style && style.listActiveSelectionForeground) || listActiveSelectionForeground,\r\n        listFocusAndSelectionBackground: style && style.listFocusAndSelectionBackground || listActiveSelectionBackground,\r\n        listFocusAndSelectionForeground: (style && style.listFocusAndSelectionForeground) || listActiveSelectionForeground,\r\n        listInactiveSelectionBackground: (style && style.listInactiveSelectionBackground) || listInactiveSelectionBackground,\r\n        listInactiveSelectionForeground: (style && style.listInactiveSelectionForeground) || listInactiveSelectionForeground,\r\n        listInactiveFocusBackground: (style && style.listInactiveFocusBackground) || listInactiveFocusBackground,\r\n        listHoverBackground: (style && style.listHoverBackground) || listHoverBackground,\r\n        listHoverForeground: (style && style.listHoverForeground) || listHoverForeground,\r\n        listDropBackground: (style && style.listDropBackground) || listDropBackground,\r\n        listFocusOutline: (style && style.listFocusOutline) || activeContrastBorder,\r\n        listSelectionOutline: (style && style.listSelectionOutline) || activeContrastBorder,\r\n        listHoverOutline: (style && style.listHoverOutline) || activeContrastBorder\r\n    }, widget);\r\n}\r\nexport function attachListStyler(widget, themeService, overrides) {\r\n    return attachStyler(themeService, __assign(__assign({}, defaultListStyles), (overrides || {})), widget);\r\n}\r\nexport var defaultListStyles = {\r\n    listFocusBackground: listFocusBackground,\r\n    listFocusForeground: listFocusForeground,\r\n    listActiveSelectionBackground: darken(listActiveSelectionBackground, 0.1),\r\n    listActiveSelectionForeground: listActiveSelectionForeground,\r\n    listFocusAndSelectionBackground: listActiveSelectionBackground,\r\n    listFocusAndSelectionForeground: listActiveSelectionForeground,\r\n    listInactiveSelectionBackground: listInactiveSelectionBackground,\r\n    listInactiveSelectionForeground: listInactiveSelectionForeground,\r\n    listInactiveFocusBackground: listInactiveFocusBackground,\r\n    listHoverBackground: listHoverBackground,\r\n    listHoverForeground: listHoverForeground,\r\n    listDropBackground: listDropBackground,\r\n    listFocusOutline: activeContrastBorder,\r\n    listSelectionOutline: activeContrastBorder,\r\n    listHoverOutline: activeContrastBorder,\r\n    listFilterWidgetBackground: listFilterWidgetBackground,\r\n    listFilterWidgetOutline: listFilterWidgetOutline,\r\n    listFilterWidgetNoMatchesOutline: listFilterWidgetNoMatchesOutline,\r\n    listMatchesShadow: widgetShadow,\r\n    treeIndentGuidesStroke: treeIndentGuidesStroke\r\n};\r\nexport var defaultMenuStyles = {\r\n    shadowColor: widgetShadow,\r\n    borderColor: menuBorder,\r\n    foregroundColor: menuForeground,\r\n    backgroundColor: menuBackground,\r\n    selectionForegroundColor: menuSelectionForeground,\r\n    selectionBackgroundColor: menuSelectionBackground,\r\n    selectionBorderColor: menuSelectionBorder,\r\n    separatorColor: menuSeparatorBackground\r\n};\r\nexport function attachMenuStyler(widget, themeService, style) {\r\n    return attachStyler(themeService, __assign(__assign({}, defaultMenuStyles), style), widget);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var ILayoutService = createDecorator('layoutService');\r\n","var SyncDescriptor = /** @class */ (function () {\r\n    function SyncDescriptor(ctor, staticArguments, supportsDelayedInstantiation) {\r\n        if (staticArguments === void 0) { staticArguments = []; }\r\n        if (supportsDelayedInstantiation === void 0) { supportsDelayedInstantiation = false; }\r\n        this.ctor = ctor;\r\n        this.staticArguments = staticArguments;\r\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\r\n    }\r\n    return SyncDescriptor;\r\n}());\r\nexport { SyncDescriptor };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport BaseSeverity from '../../../base/common/severity.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var Severity = BaseSeverity;\r\nexport var INotificationService = createDecorator('notificationService');\r\nvar NoOpNotification = /** @class */ (function () {\r\n    function NoOpNotification() {\r\n    }\r\n    return NoOpNotification;\r\n}());\r\nexport { NoOpNotification };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { localize } from '../../../nls.js';\r\nimport Severity from '../../../base/common/severity.js';\r\nexport var MarkerSeverity;\r\n(function (MarkerSeverity) {\r\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\r\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\r\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\r\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\r\n})(MarkerSeverity || (MarkerSeverity = {}));\r\n(function (MarkerSeverity) {\r\n    function compare(a, b) {\r\n        return b - a;\r\n    }\r\n    MarkerSeverity.compare = compare;\r\n    var _displayStrings = Object.create(null);\r\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\r\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\r\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\r\n    function toString(a) {\r\n        return _displayStrings[a] || '';\r\n    }\r\n    MarkerSeverity.toString = toString;\r\n    function fromSeverity(severity) {\r\n        switch (severity) {\r\n            case Severity.Error: return MarkerSeverity.Error;\r\n            case Severity.Warning: return MarkerSeverity.Warning;\r\n            case Severity.Info: return MarkerSeverity.Info;\r\n            case Severity.Ignore: return MarkerSeverity.Hint;\r\n        }\r\n    }\r\n    MarkerSeverity.fromSeverity = fromSeverity;\r\n    function toSeverity(severity) {\r\n        switch (severity) {\r\n            case MarkerSeverity.Error: return Severity.Error;\r\n            case MarkerSeverity.Warning: return Severity.Warning;\r\n            case MarkerSeverity.Info: return Severity.Info;\r\n            case MarkerSeverity.Hint: return Severity.Ignore;\r\n        }\r\n    }\r\n    MarkerSeverity.toSeverity = toSeverity;\r\n})(MarkerSeverity || (MarkerSeverity = {}));\r\nexport var IMarkerData;\r\n(function (IMarkerData) {\r\n    var emptyString = '';\r\n    function makeKey(markerData) {\r\n        return makeKeyOptionalMessage(markerData, true);\r\n    }\r\n    IMarkerData.makeKey = makeKey;\r\n    function makeKeyOptionalMessage(markerData, useMessage) {\r\n        var result = [emptyString];\r\n        if (markerData.source) {\r\n            result.push(markerData.source.replace('', '\\'));\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.code) {\r\n            if (typeof markerData.code === 'string') {\r\n                result.push(markerData.code.replace('', '\\'));\r\n            }\r\n            else {\r\n                result.push(markerData.code.value.replace('', '\\'));\r\n            }\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.severity !== undefined && markerData.severity !== null) {\r\n            result.push(MarkerSeverity.toString(markerData.severity));\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        // Modifed to not include the message as part of the marker key to work around\r\n        // https://github.com/microsoft/vscode/issues/77475\r\n        if (markerData.message && useMessage) {\r\n            result.push(markerData.message.replace('', '\\'));\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\r\n            result.push(markerData.startLineNumber.toString());\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\r\n            result.push(markerData.startColumn.toString());\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\r\n            result.push(markerData.endLineNumber.toString());\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\r\n            result.push(markerData.endColumn.toString());\r\n        }\r\n        else {\r\n            result.push(emptyString);\r\n        }\r\n        result.push(emptyString);\r\n        return result.join('');\r\n    }\r\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\r\n})(IMarkerData || (IMarkerData = {}));\r\nexport var IMarkerService = createDecorator('markerService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var IEditorProgressService = createDecorator('editorProgressService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../registry/common/platform.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nexport var IThemeService = createDecorator('themeService');\r\nexport function themeColorFromId(id) {\r\n    return { id: id };\r\n}\r\n// base themes\r\nexport var DARK = 'dark';\r\nexport var HIGH_CONTRAST = 'hc';\r\nexport function getThemeTypeSelector(type) {\r\n    switch (type) {\r\n        case DARK: return 'vs-dark';\r\n        case HIGH_CONTRAST: return 'hc-black';\r\n        default: return 'vs';\r\n    }\r\n}\r\n// static theming participant\r\nexport var Extensions = {\r\n    ThemingContribution: 'base.contributions.theming'\r\n};\r\nvar ThemingRegistry = /** @class */ (function () {\r\n    function ThemingRegistry() {\r\n        this.themingParticipants = [];\r\n        this.themingParticipants = [];\r\n        this.onThemingParticipantAddedEmitter = new Emitter();\r\n    }\r\n    ThemingRegistry.prototype.onThemeChange = function (participant) {\r\n        var _this = this;\r\n        this.themingParticipants.push(participant);\r\n        this.onThemingParticipantAddedEmitter.fire(participant);\r\n        return toDisposable(function () {\r\n            var idx = _this.themingParticipants.indexOf(participant);\r\n            _this.themingParticipants.splice(idx, 1);\r\n        });\r\n    };\r\n    ThemingRegistry.prototype.getThemingParticipants = function () {\r\n        return this.themingParticipants;\r\n    };\r\n    return ThemingRegistry;\r\n}());\r\nvar themingRegistry = new ThemingRegistry();\r\nplatform.Registry.add(Extensions.ThemingContribution, themingRegistry);\r\nexport function registerThemingParticipant(participant) {\r\n    return themingRegistry.onThemeChange(participant);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar ResolvedKeybindingItem = /** @class */ (function () {\r\n    function ResolvedKeybindingItem(resolvedKeybinding, command, commandArgs, when, isDefault) {\r\n        this.resolvedKeybinding = resolvedKeybinding;\r\n        this.keypressParts = resolvedKeybinding ? removeElementsAfterNulls(resolvedKeybinding.getDispatchParts()) : [];\r\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* Caret */ : false);\r\n        this.command = this.bubble ? command.substr(1) : command;\r\n        this.commandArgs = commandArgs;\r\n        this.when = when;\r\n        this.isDefault = isDefault;\r\n    }\r\n    return ResolvedKeybindingItem;\r\n}());\r\nexport { ResolvedKeybindingItem };\r\nexport function removeElementsAfterNulls(arr) {\r\n    var result = [];\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n        var element = arr[i];\r\n        if (!element) {\r\n            // stop processing at first encountered null\r\n            return result;\r\n        }\r\n        result.push(element);\r\n    }\r\n    return result;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator as createServiceDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var ILogService = createServiceDecorator('logService');\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    LogLevel[LogLevel[\"Off\"] = 6] = \"Off\";\r\n})(LogLevel || (LogLevel = {}));\r\nvar NullLogService = /** @class */ (function () {\r\n    function NullLogService() {\r\n    }\r\n    NullLogService.prototype.getLevel = function () { return LogLevel.Info; };\r\n    NullLogService.prototype.trace = function (message) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n    };\r\n    NullLogService.prototype.error = function (message) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n    };\r\n    NullLogService.prototype.dispose = function () { };\r\n    return NullLogService;\r\n}());\r\nexport { NullLogService };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as platform from '../../registry/common/platform.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nexport var Extensions = {\r\n    JSONContribution: 'base.contributions.json'\r\n};\r\nfunction normalizeId(id) {\r\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\r\n        return id.substring(0, id.length - 1);\r\n    }\r\n    return id;\r\n}\r\nvar JSONContributionRegistry = /** @class */ (function () {\r\n    function JSONContributionRegistry() {\r\n        this._onDidChangeSchema = new Emitter();\r\n        this.schemasById = {};\r\n    }\r\n    JSONContributionRegistry.prototype.registerSchema = function (uri, unresolvedSchemaContent) {\r\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\r\n        this._onDidChangeSchema.fire(uri);\r\n    };\r\n    JSONContributionRegistry.prototype.notifySchemaChanged = function (uri) {\r\n        this._onDidChangeSchema.fire(uri);\r\n    };\r\n    return JSONContributionRegistry;\r\n}());\r\nvar jsonContributionRegistry = new JSONContributionRegistry();\r\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar ServiceCollection = /** @class */ (function () {\r\n    function ServiceCollection() {\r\n        var entries = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            entries[_i] = arguments[_i];\r\n        }\r\n        this._entries = new Map();\r\n        for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\r\n            var _b = entries_1[_a], id = _b[0], service = _b[1];\r\n            this.set(id, service);\r\n        }\r\n    }\r\n    ServiceCollection.prototype.set = function (id, instanceOrDescriptor) {\r\n        var result = this._entries.get(id);\r\n        this._entries.set(id, instanceOrDescriptor);\r\n        return result;\r\n    };\r\n    ServiceCollection.prototype.has = function (id) {\r\n        return this._entries.has(id);\r\n    };\r\n    ServiceCollection.prototype.get = function (id) {\r\n        return this._entries.get(id);\r\n    };\r\n    return ServiceCollection;\r\n}());\r\nexport { ServiceCollection };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { SyncDescriptor } from './descriptors.js';\r\nvar _registry = [];\r\nexport function registerSingleton(id, ctor, supportsDelayedInstantiation) {\r\n    _registry.push([id, new SyncDescriptor(ctor, [], supportsDelayedInstantiation)]);\r\n}\r\nexport function getSingletonServiceDescriptors() {\r\n    return _registry;\r\n}\r\n"],"sourceRoot":""}